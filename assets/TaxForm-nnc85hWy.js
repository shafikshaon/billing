import{j as b,k as x,l as v,s as d,c as y,o as _,a as t,b as g,w as u,u as N,e as S,h as m,v as p,n as k,p as h}from"./index-y6E_OOsB.js";import{S as w}from"./SectionCard-CLi6ynPh.js";const C={class:"row g-3 justify-content-center"},T={class:"col-12 col-lg-8 col-xl-6"},O={class:"row g-3"},V={class:"col-md-8"},j={class:"col-md-4"},R={__name:"TaxForm",setup(B){const i=b(),l=S(),a=i.path.endsWith("/edit"),r=a?i.params.id:null,s=x({id:"",name:"",rate:0});v(()=>{if(a&&r){const o=d.taxes.find(e=>e.id===r);o&&Object.assign(s,JSON.parse(JSON.stringify(o)))}});function c(){l.push("/taxes")}function f(){if(!s.name.trim())return;s.rate<0&&(s.rate=0),s.id||(s.id=k("tax_"));const o=JSON.parse(JSON.stringify(s));h(d.taxes,o),alert("Tax saved"),l.push("/taxes")}return(o,e)=>(_(),y("div",C,[t("div",T,[g(w,{title:N(a)?"Edit Tax":"New Tax"},{actions:u(()=>[t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:c},"Back to list")]),default:u(()=>[t("div",O,[t("div",V,[e[2]||(e[2]=t("label",{class:"form-label"},"Name",-1)),m(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":e[0]||(e[0]=n=>s.name=n),placeholder:"e.g., VAT 15% (Standard)"},null,512),[[p,s.name]])]),t("div",j,[e[3]||(e[3]=t("label",{class:"form-label"},"Rate (%)",-1)),m(t("input",{class:"form-control form-control-sm",type:"number",min:"0",step:"0.01","onUpdate:modelValue":e[1]||(e[1]=n=>s.rate=n)},null,512),[[p,s.rate,void 0,{number:!0}]])])]),t("div",{class:"d-flex justify-content-end gap-2 mt-2"},[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:c},"Cancel"),t("button",{class:"btn btn-primary",type:"button",onClick:f},"Save")])]),_:1},8,["title"])])]))}};export{R as default};
