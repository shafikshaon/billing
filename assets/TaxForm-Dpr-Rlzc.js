import{u as v,s as y,r as _,z as g,d as T,o as S,e as t,p as N,l as u,x as m,y as f,m as V}from"./vendor-CJczNIjx.js";import{S as k}from"./SectionCard-C9PBNAnP.js";import{s as p,u as C,a as E,b as h}from"./index-CYiN_h_V.js";const w={class:"row g-3 justify-content-center"},O={class:"col-12 col-lg-8 col-xl-6"},B={class:"row g-3"},J={class:"col-md-8"},j={class:"col-md-4"},q={__name:"TaxForm",setup(R){const i=v(),l=y(),o=h(),r=i.path.endsWith("/edit"),c=r?i.params.id:null,e=_({id:"",name:"",rate:0});g(()=>{if(r&&c){const a=p.taxes.find(s=>s.id===c);a&&Object.assign(e,JSON.parse(JSON.stringify(a)))}});function b(){var a;return(a=e.name)!=null&&a.trim()?e.rate<0?(o.error("Validation Error","Tax rate must be 0 or greater"),!1):e.rate>100?(o.error("Validation Error","Tax rate cannot exceed 100%"),!1):!0:(o.error("Validation Error","Tax name is required"),!1)}function d(){l.push("/taxes")}function x(){if(!b())return;e.id||(e.id=C("tax_"));const a=JSON.parse(JSON.stringify(e));E(p.taxes,a),o.success("Saved","Tax saved successfully"),l.push("/taxes")}return(a,s)=>(S(),T("div",w,[t("div",O,[N(k,{title:V(r)?"Edit Tax":"New Tax"},{actions:u(()=>[t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:d},"Back to list")]),default:u(()=>[t("div",B,[t("div",J,[s[2]||(s[2]=t("label",{class:"form-label"},"Name",-1)),m(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[0]||(s[0]=n=>e.name=n),placeholder:"e.g., VAT 15% (Standard)"},null,512),[[f,e.name]])]),t("div",j,[s[3]||(s[3]=t("label",{class:"form-label"},"Rate (%)",-1)),m(t("input",{class:"form-control form-control-sm",type:"number",min:"0",step:"0.01","onUpdate:modelValue":s[1]||(s[1]=n=>e.rate=n)},null,512),[[f,e.rate,void 0,{number:!0}]])])]),t("div",{class:"d-flex justify-content-end gap-2 mt-2"},[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:d},"Cancel"),t("button",{class:"btn btn-primary",type:"button",onClick:x},"Save")])]),_:1},8,["title"])])]))}};export{q as default};
