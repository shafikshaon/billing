import{j as b,k as v,l as V,s as p,c as x,o as g,a as s,b as d,w as f,u as _,e as N,h as l,m as S,t as h,v as r,n as C,p as k}from"./index-Bh5XxthV.js";import{S as w}from"./SectionCard-mLPpfrf6.js";import{_ as M,a as U}from"./ContactListEditor-BxhXHWPm.js";const I={class:"row g-3 justify-content-center"},O={class:"col-12 col-lg-8 col-xl-6"},T={class:"row g-3"},j={class:"col-md-4"},B={class:"col-md-8"},D={class:"form-label"},J={class:"col-md-6"},A={class:"col-12"},E={class:"col-12"},F={class:"col-12"},W={__name:"MerchantForm",setup(R){const i=b(),c=N(),a=i.path.endsWith("/edit"),m=a?i.params.id:null,o=v({id:"",type:"company",name:"",taxId:"",addresses:[],contacts:[],notes:""});V(()=>{if(a&&m){const n=p.merchants.find(t=>t.id===m);n&&Object.assign(o,JSON.parse(JSON.stringify(n)))}});function u(){c.push("/merchants")}function y(){if(!o.name.trim())return;o.id||(o.id=C("mrc_"));const n=JSON.parse(JSON.stringify(o));k(p.merchants,n),alert("Merchant saved"),c.push("/merchants")}return(n,t)=>(g(),x("div",I,[s("div",O,[d(w,{title:_(a)?"Edit Merchant":"New Merchant"},{actions:f(()=>[s("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:u},"Back to list")]),default:f(()=>[s("div",T,[s("div",j,[t[7]||(t[7]=s("label",{class:"form-label"},"Type",-1)),l(s("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[0]||(t[0]=e=>o.type=e)},[...t[6]||(t[6]=[s("option",{value:"company"},"Company",-1),s("option",{value:"person"},"Person",-1)])],512),[[S,o.type]])]),s("div",B,[s("label",D,h(o.type==="company"?"Company Name":"Full Name"),1),l(s("input",{class:"form-control form-control-sm","onUpdate:modelValue":t[1]||(t[1]=e=>o.name=e),placeholder:"e.g., Dhaka Tech Ltd."},null,512),[[r,o.name]])]),s("div",J,[t[8]||(t[8]=s("label",{class:"form-label"},"VAT / TAX ID",-1)),l(s("input",{class:"form-control form-control-sm","onUpdate:modelValue":t[2]||(t[2]=e=>o.taxId=e),placeholder:"e.g., US-12-3456789"},null,512),[[r,o.taxId]])]),s("div",A,[t[9]||(t[9]=s("label",{class:"form-label"},"Notes",-1)),l(s("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":t[3]||(t[3]=e=>o.notes=e),placeholder:"Internal notes (optional)"},null,512),[[r,o.notes]])]),s("div",E,[t[10]||(t[10]=s("h6",{class:"text-secondary"},"Addresses",-1)),d(M,{modelValue:o.addresses,"onUpdate:modelValue":t[4]||(t[4]=e=>o.addresses=e)},null,8,["modelValue"])]),s("div",F,[t[11]||(t[11]=s("h6",{class:"text-secondary"},"Contacts",-1)),d(U,{modelValue:o.contacts,"onUpdate:modelValue":t[5]||(t[5]=e=>o.contacts=e)},null,8,["modelValue"])])]),s("div",{class:"d-flex justify-content-end gap-2 mt-2"},[s("button",{class:"btn btn-outline-secondary",type:"button",onClick:u},"Cancel"),s("button",{class:"btn btn-primary",type:"button",onClick:y},"Save")])]),_:1},8,["title"])])]))}};export{W as default};
