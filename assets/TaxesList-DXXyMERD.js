import{r as m,e as b,s as g,c as i,o as r,a as t,b as k,w as x,f as N,g as $,F as S,h as B,t as a,i as D,v as L,j as M}from"./index-DaYuDLQb.js";import{S as R}from"./SectionCard-CHGy0F5-.js";const V={class:"row g-3"},A={class:"col-12"},P={class:"d-flex gap-2"},T={class:"table table-sm align-middle mb-2"},j={class:"fw-medium"},E={class:"text-end"},F={class:"btn-group btn-group-sm"},I=["onClick"],Z=["onClick"],q={key:0},z={class:"d-flex justify-content-between align-items-center"},U={class:"small text-muted"},G={class:"btn-group btn-group-sm"},H=["disabled"],J=["disabled"],v=10,W={__name:"TaxesList",setup(K){const p=N(),u=m(""),l=m(!0),o=m(1),_=b(()=>{const n=u.value.trim().toLowerCase();let e=g.taxes.slice();return n&&(e=e.filter(s=>s.name?.toLowerCase().includes(n))),e.sort((s,c)=>{const h=(s.name||"").localeCompare(c.name||"");return l.value?h:-h}),e}),d=b(()=>Math.max(1,Math.ceil(_.value.length/v))),f=b(()=>{const e=(Math.min(o.value,d.value)-1)*v;return _.value.slice(e,e+v)});function C(){p.push("/taxes/new")}function w(n){p.push(`/taxes/${n.id}/edit`)}function y(n){confirm(`Delete tax "${n.name}"?`)&&M(g.taxes,n.id)}return(n,e)=>(r(),i("div",V,[t("div",A,[k(R,{title:"Taxes"},{actions:x(()=>[t("div",P,[D(t("input",{class:"form-control form-control-sm",placeholder:"Search...","onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s)},null,512),[[L,u.value]]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=s=>l.value=!l.value)}," Sort "+a(l.value?"A→Z":"Z→A"),1),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:C},"New")])]),default:x(()=>[t("table",T,[e[5]||(e[5]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"Name"),t("th",null,"Rate %"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(r(!0),i(S,null,B(f.value,s=>(r(),i("tr",{key:s.id},[t("td",j,a(s.name),1),t("td",null,a(s.rate),1),t("td",E,[t("div",F,[t("button",{class:"btn btn-outline-secondary",onClick:c=>w(s)},"Edit",8,I),t("button",{class:"btn btn-outline-danger",onClick:c=>y(s)},"Delete",8,Z)])])]))),128)),f.value.length===0?(r(),i("tr",q,[...e[4]||(e[4]=[t("td",{colspan:"3",class:"text-muted"},"No taxes found.",-1)])])):$("",!0)])]),t("div",z,[t("div",U,"Page "+a(o.value)+" of "+a(d.value),1),t("div",G,[t("button",{class:"btn btn-outline-secondary",disabled:o.value<=1,onClick:e[2]||(e[2]=s=>o.value--)},"Prev",8,H),t("button",{class:"btn btn-outline-secondary",disabled:o.value>=d.value,onClick:e[3]||(e[3]=s=>o.value++)},"Next",8,J)])])]),_:1})])]))}};export{W as default};
