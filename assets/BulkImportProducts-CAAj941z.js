var S=(u,s,l)=>new Promise((e,a)=>{var g=n=>{try{r(l.next(n))}catch(o){a(o)}},p=n=>{try{r(l.throw(n))}catch(o){a(o)}},r=n=>n.done?e(n.value):Promise.resolve(n.value).then(g,p);r((l=l.apply(u,s)).next())});import{i as k,d,o as c,e as t,f as C,j as y,C as i,F as x,g as F,t as h,p as U,l as I,s as K,v as m}from"./vendor-CJczNIjx.js";import{_ as P,s as V}from"./index-CYiN_h_V.js";import{p as _,e as N,f as B,d as w,h as D}from"./bulkImport-8oEweRSy.js";const q={name:"BulkImportProducts",setup(){K();const u=m(null),s=m(null),l=m(!1),e=m([]),a=m(0);return{fileInput:u,selectedFile:s,isProcessing:l,errors:e,successCount:a,downloadSampleWithSKU:()=>{const o=D();w("products_sample_with_sku.csv",o)},downloadSampleNoSKU:()=>{const o=B();w("products_sample_no_sku.csv",o)},handleFileSelect:o=>{s.value=o.target.files[0],e.value=[],a.value=0},processFile:()=>S(null,null,function*(){if(s.value){l.value=!0,e.value=[],a.value=0;try{const o=yield _(s.value);if(o.errors&&o.errors.length>0){e.value=o.errors.map(v=>`Parse error: ${v.message}`),l.value=!1;return}const{products:b,errors:f}=N(o.data);if(f.length>0){e.value=f,l.value=!1;return}b.forEach(v=>{V.products.push(v)}),a.value=b.length,u.value&&(u.value.value=""),s.value=null}catch(o){e.value=[`Error processing file: ${o.message}`]}finally{l.value=!1}}})}}},W={class:"container-fluid py-4"},E={class:"row"},T={class:"col-lg-8"},L={class:"card mb-4"},z={class:"card-body"},Q={class:"d-flex gap-2 flex-wrap"},R={class:"card mb-4"},j={class:"card-body"},M={class:"mb-3"},Y=["disabled"],A={key:0},G={key:1},H={key:0,class:"card mb-4 border-danger"},J={class:"card-body"},O={class:"mb-0"},X={key:1,class:"card mb-4 border-success"},Z={class:"card-body"},$={class:"mb-0"};function ss(u,s,l,e,a,g){const p=k("router-link");return c(),d("div",W,[s[19]||(s[19]=t("div",{class:"row mb-4"},[t("div",{class:"col"},[t("h2",{class:"mb-3"},"Bulk Import Products"),t("p",{class:"text-muted"}," Import multiple products with inventory tracking from a CSV file ")])],-1)),t("div",E,[t("div",T,[t("div",L,[s[8]||(s[8]=t("div",{class:"card-header bg-primary text-white"},[t("h5",{class:"mb-0"},"Step 1: Download Sample Template")],-1)),t("div",z,[s[6]||(s[6]=t("p",null,"Choose the template that fits your needs:",-1)),t("div",Q,[t("button",{onClick:s[0]||(s[0]=(...r)=>e.downloadSampleWithSKU&&e.downloadSampleWithSKU(...r)),class:"btn btn-success"},[...s[4]||(s[4]=[t("i",{class:"bi bi-download"},null,-1),i(" Download Sample with SKUs ",-1)])]),t("button",{onClick:s[1]||(s[1]=(...r)=>e.downloadSampleNoSKU&&e.downloadSampleNoSKU(...r)),class:"btn btn-success"},[...s[5]||(s[5]=[t("i",{class:"bi bi-download"},null,-1),i(" Download Sample without SKUs ",-1)])])]),s[7]||(s[7]=t("div",{class:"alert alert-info mt-3 mb-0"},[t("small",null,[t("strong",null,"With SKUs:"),i(" Best for physical goods with stock keeping units"),t("br"),t("strong",null,"Without SKUs:"),i(" Best for services, consulting, or products without formal SKUs ")])],-1))])]),t("div",R,[s[12]||(s[12]=t("div",{class:"card-header bg-primary text-white"},[t("h5",{class:"mb-0"},"Step 2: Upload Your CSV File")],-1)),t("div",j,[t("div",M,[s[9]||(s[9]=t("label",{for:"fileInput",class:"form-label"},"Select CSV File",-1)),t("input",{id:"fileInput",ref:"fileInput",type:"file",class:"form-control",accept:".csv",onChange:s[2]||(s[2]=(...r)=>e.handleFileSelect&&e.handleFileSelect(...r))},null,544)]),t("button",{onClick:s[3]||(s[3]=(...r)=>e.processFile&&e.processFile(...r)),disabled:!e.selectedFile||e.isProcessing,class:"btn btn-primary"},[e.isProcessing?(c(),d("span",A,[...s[10]||(s[10]=[t("span",{class:"spinner-border spinner-border-sm me-2"},null,-1),i(" Processing... ",-1)])])):(c(),d("span",G,[...s[11]||(s[11]=[t("i",{class:"bi bi-upload"},null,-1),i(" Process File ",-1)])]))],8,Y)])]),e.errors.length>0?(c(),d("div",H,[s[13]||(s[13]=t("div",{class:"card-header bg-danger text-white"},[t("h5",{class:"mb-0"},"Errors Found")],-1)),t("div",J,[t("ul",O,[(c(!0),d(x,null,F(e.errors,(r,n)=>(c(),d("li",{key:n,class:"text-danger"},h(r),1))),128))])])])):y("",!0),e.successCount>0?(c(),d("div",X,[s[17]||(s[17]=t("div",{class:"card-header bg-success text-white"},[t("h5",{class:"mb-0"},"Import Successful")],-1)),t("div",Z,[t("p",$,[s[14]||(s[14]=i(" Successfully imported ",-1)),t("strong",null,h(e.successCount),1),s[15]||(s[15]=i(" product(s). ",-1))]),U(p,{to:"/products",class:"btn btn-primary mt-3"},{default:I(()=>[...s[16]||(s[16]=[i(" View Products ",-1)])]),_:1})])])):y("",!0)]),s[18]||(s[18]=C('<div class="col-lg-4"><div class="card"><div class="card-header bg-info text-white"><h5 class="mb-0">Instructions</h5></div><div class="card-body"><h6>CSV Format Requirements:</h6><ul class="small"><li><strong>name</strong> (required): Product name</li><li><strong>sku</strong>: Stock Keeping Unit (optional)</li><li><strong>unit</strong>: pcs, ea, units, doz, pair, pack, box, carton, kg, g, lbs, oz, l, m, ft, sq.m, sq.ft, hrs, days, months</li><li><strong>type</strong>: goods, service, digital, rental/lease, subscription, fee, license, consulting, other</li><li><strong>price</strong> (required): Unit price</li><li><strong>discountType</strong>: none, fixed, percent</li><li><strong>discountValue</strong>: Discount amount</li><li><strong>taxId</strong>: Leave empty or use existing tax ID</li><li><strong>active</strong>: true or false</li><li><strong>description</strong>: Product description</li></ul><h6 class="mt-3">Inventory Tracking:</h6><ul class="small"><li><strong>trackInventory</strong>: true or false</li><li><strong>currentStock</strong>: Current stock quantity</li><li><strong>reorderLevel</strong>: Minimum stock before reorder alert</li><li><strong>reorderQuantity</strong>: Quantity to reorder when low</li></ul><div class="alert alert-warning mt-3 mb-0"><small><strong>Note:</strong> Services typically don&#39;t need inventory tracking. Set trackInventory to false for services. </small></div></div></div></div>',1))])])}const ls=P(q,[["render",ss]]);export{ls as default};
