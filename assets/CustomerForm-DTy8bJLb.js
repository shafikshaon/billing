import{k as V,l as g,m as x,s as b,c as r,o as i,a as t,b as m,w as y,u as C,f as N,i as l,n as w,t as S,v as a,F as k,p as I,q as U}from"./index-KyoB_csF.js";import{S as _}from"./SectionCard-kPt8c8at.js";import{_ as D,a as B}from"./ContactListEditor-CCDtfs1S.js";const O={class:"row g-3 justify-content-center"},T={class:"col-12 col-lg-8 col-xl-6"},A={class:"row g-3"},F={class:"col-md-4"},J={class:"col-md-8"},j={class:"form-label"},E={class:"col-md-6"},M={class:"col-md-6"},R={key:1,class:"col-md-6"},W={class:"col-12"},$={class:"col-12"},q={class:"col-12"},H={__name:"CustomerForm",setup(L){const u=V(),c=N(),d=u.path.endsWith("/edit"),p=d?u.params.id:null,o=g({id:"",type:"company",name:"",taxId:"",nid:"",website:"",addresses:[],contacts:[],notes:""});x(()=>{if(d&&p){const n=b.customers.find(s=>s.id===p);n&&Object.assign(o,JSON.parse(JSON.stringify(n)))}});function f(){c.push("/customers")}function v(){if(!o.name.trim())return;o.id||(o.id=I("cus_"));const n=JSON.parse(JSON.stringify(o));U(b.customers,n),alert("Customer saved"),c.push("/customers")}return(n,s)=>(i(),r("div",O,[t("div",T,[m(_,{title:C(d)?"Edit Customer":"New Customer"},{actions:y(()=>[t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:f},"Back to list")]),default:y(()=>[t("div",A,[t("div",F,[s[9]||(s[9]=t("label",{class:"form-label"},"Type",-1)),l(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":s[0]||(s[0]=e=>o.type=e)},[...s[8]||(s[8]=[t("option",{value:"company"},"Company",-1),t("option",{value:"person"},"Individual",-1)])],512),[[w,o.type]])]),t("div",J,[t("label",j,S(o.type==="company"?"Company Name":"Full Name"),1),l(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[1]||(s[1]=e=>o.name=e),placeholder:"e.g., Noor Traders Ltd. / Sabiha Ahmed"},null,512),[[a,o.name]])]),o.type==="company"?(i(),r(k,{key:0},[t("div",E,[s[10]||(s[10]=t("label",{class:"form-label"},"VAT / TAX ID",-1)),l(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[2]||(s[2]=e=>o.taxId=e),placeholder:"e.g., BD-1234567"},null,512),[[a,o.taxId]])]),t("div",M,[s[11]||(s[11]=t("label",{class:"form-label"},"Website",-1)),l(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[3]||(s[3]=e=>o.website=e),placeholder:"https://example.com.bd"},null,512),[[a,o.website]])])],64)):(i(),r("div",R,[s[12]||(s[12]=t("label",{class:"form-label"},"National ID (NID)",-1)),l(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[4]||(s[4]=e=>o.nid=e),placeholder:"e.g., 1234567890"},null,512),[[a,o.nid]])])),t("div",W,[s[13]||(s[13]=t("label",{class:"form-label"},"Notes",-1)),l(t("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":s[5]||(s[5]=e=>o.notes=e),placeholder:"Internal notes (optional)"},null,512),[[a,o.notes]])]),t("div",$,[s[14]||(s[14]=t("h6",{class:"text-secondary"},"Addresses",-1)),m(D,{modelValue:o.addresses,"onUpdate:modelValue":s[6]||(s[6]=e=>o.addresses=e)},null,8,["modelValue"])]),t("div",q,[s[15]||(s[15]=t("h6",{class:"text-secondary"},"Contacts",-1)),m(B,{modelValue:o.contacts,"onUpdate:modelValue":s[7]||(s[7]=e=>o.contacts=e)},null,8,["modelValue"])])]),t("div",{class:"d-flex justify-content-end gap-2 mt-2"},[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:f},"Cancel"),t("button",{class:"btn btn-primary",type:"button",onClick:v},"Save")])]),_:1},8,["title"])])]))}};export{H as default};
