import{s as p,b as v,e as d,o as c,f as t,p as k,k as g,v as N,i as $,F as S,h as T,t as i,x as L,y as B}from"./vendor-CDgTUOzk.js";import{S as D}from"./SectionCard-Emg7MEbk.js";import{s as C,r as M}from"./index-DuACpEyu.js";const P={class:"row g-3"},V={class:"col-12"},A={class:"d-flex gap-2"},R={class:"table-wrapper"},E={class:"table table-sm align-middle"},F={class:"fw-medium"},I={class:"text-truncate",style:{"max-width":"560px"}},Z={class:"text-end"},q={class:"btn-group btn-group-sm"},z=["onClick"],U=["onClick"],j={key:0},G={class:"table-footer"},H={class:"small text-muted"},J={class:"btn-group btn-group-sm"},K=["disabled"],O=["disabled"],b=8,tt={__name:"TermsTemplatesList",setup(Q){const _=N(),u=p(""),r=p(!0),n=p(1),h=v(()=>{const o=u.value.trim().toLowerCase();let e=C.termsTemplates.slice();return o&&(e=e.filter(s=>{var l,a;return((l=s.name)==null?void 0:l.toLowerCase().includes(o))||((a=s.content)==null?void 0:a.toLowerCase().includes(o))})),e.sort((s,l)=>{const a=(s.name||"").localeCompare(l.name||"");return r.value?a:-a}),e}),m=v(()=>Math.max(1,Math.ceil(h.value.length/b))),f=v(()=>{const e=(Math.min(n.value,m.value)-1)*b;return h.value.slice(e,e+b)});function w(){_.push("/terms-conditions/new")}function x(o){_.push(`/terms-conditions/${o.id}/edit`)}function y(o){confirm(`Delete template "${o.name}"?`)&&M(C.termsTemplates,o.id)}return(o,e)=>(c(),d("div",P,[t("div",V,[k(D,{title:"Terms & Conditions"},{actions:g(()=>[t("div",A,[L(t("input",{class:"form-control form-control-sm",placeholder:"Search...","onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s)},null,512),[[B,u.value]]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=s=>r.value=!r.value)}," Sort "+i(r.value?"A→Z":"Z→A"),1),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:w},"New")])]),default:g(()=>[t("div",R,[t("table",E,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Preview"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(c(!0),d(S,null,T(f.value,s=>(c(),d("tr",{key:s.id},[t("td",F,i(s.name),1),t("td",I,i(s.content),1),t("td",Z,[t("div",q,[t("button",{class:"btn btn-outline-secondary",onClick:l=>x(s)},"Edit",8,z),t("button",{class:"btn btn-outline-danger",onClick:l=>y(s)},"Delete",8,U)])])]))),128)),f.value.length===0?(c(),d("tr",j,[...e[4]||(e[4]=[t("td",{colspan:"3",class:"text-muted"},"No templates found.",-1)])])):$("",!0)])])]),t("div",G,[t("div",H,"Page "+i(n.value)+" of "+i(m.value),1),t("div",J,[t("button",{class:"btn btn-outline-secondary",disabled:n.value<=1,onClick:e[2]||(e[2]=s=>n.value--)},"Prev",8,K),t("button",{class:"btn btn-outline-secondary",disabled:n.value>=m.value,onClick:e[3]||(e[3]=s=>n.value++)},"Next",8,O)])])]),_:1})])]))}};export{tt as default};
