import{r as p,d as m,s as f,c as a,o as i,a as t,b as w,w as x,e as N,f as M,F as S,g as D,t as o,h as $,v as F,i as L}from"./index-Cy1DQ3NH.js";import{S as A}from"./SectionCard-C-9hBTcE.js";const B={class:"row g-3"},R={class:"col-12"},V={class:"d-flex gap-2"},P={class:"table-wrapper"},T={class:"table table-sm align-middle"},z={class:"fw-medium"},E={class:"text-capitalize"},I={key:0},Z={key:1},q={class:"text-end"},O={class:"btn-group btn-group-sm"},U=["onClick"],Y=["onClick"],j={key:0},G={class:"table-footer"},H={class:"small text-muted"},J={class:"btn-group btn-group-sm"},K=["disabled"],Q=["disabled"],h=10,et={__name:"ShippingMethodsList",setup(W){const b=N(),r=p(""),d=p(!0),l=p(1),v=m(()=>{const n=r.value.trim().toLowerCase();let s=f.shippingMethods.slice();return n&&(s=s.filter(e=>e.name?.toLowerCase().includes(n)||e.provider?.toLowerCase().includes(n))),s.sort((e,c)=>{const g=(e.name||"").localeCompare(c.name||"");return d.value?g:-g}),s}),u=m(()=>Math.max(1,Math.ceil(v.value.length/h))),_=m(()=>{const s=(Math.min(l.value,u.value)-1)*h;return v.value.slice(s,s+h)});function y(){b.push("/shipping/new")}function C(n){b.push(`/shipping/${n.id}/edit`)}function k(n){confirm(`Delete shipping method "${n.name}"?`)&&L(f.shippingMethods,n.id)}return(n,s)=>(i(),a("div",B,[t("div",R,[w(A,{title:"Shipping Methods"},{actions:x(()=>[t("div",V,[$(t("input",{class:"form-control form-control-sm",placeholder:"Search...","onUpdate:modelValue":s[0]||(s[0]=e=>r.value=e)},null,512),[[F,r.value]]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:s[1]||(s[1]=e=>d.value=!d.value)}," Sort "+o(d.value?"A→Z":"Z→A"),1),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:y},"New")])]),default:x(()=>[t("div",P,[t("table",T,[s[5]||(s[5]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Region"),t("th",null,"Charge"),t("th",null,"Free ≥"),t("th",null,"Lead time"),t("th",null,"COD"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(i(!0),a(S,null,D(_.value,e=>(i(),a("tr",{key:e.id},[t("td",z,o(e.name),1),t("td",E,o(e.region.replace("_"," ")),1),t("td",null,[e.chargeType==="fixed"?(i(),a("span",I,"৳"+o(Number(e.amount).toFixed(0)),1)):(i(),a("span",Z,o(Number(e.amount).toFixed(1))+"%",1))]),t("td",null,"৳"+o(Number(e.freeThreshold||0).toFixed(0)),1),t("td",null,o(e.leadDaysMin)+"–"+o(e.leadDaysMax)+" d",1),t("td",null,o(e.codAvailable?"Yes":"No"),1),t("td",q,[t("div",O,[t("button",{class:"btn btn-outline-secondary",onClick:c=>C(e)},"Edit",8,U),t("button",{class:"btn btn-outline-danger",onClick:c=>k(e)},"Delete",8,Y)])])]))),128)),_.value.length===0?(i(),a("tr",j,[...s[4]||(s[4]=[t("td",{colspan:"7",class:"text-muted"},"No shipping methods found.",-1)])])):M("",!0)])])]),t("div",G,[t("div",H,"Page "+o(l.value)+" of "+o(u.value),1),t("div",J,[t("button",{class:"btn btn-outline-secondary",disabled:l.value<=1,onClick:s[2]||(s[2]=e=>l.value--)},"Prev",8,K),t("button",{class:"btn btn-outline-secondary",disabled:l.value>=u.value,onClick:s[3]||(s[3]=e=>l.value++)},"Next",8,Q)])])]),_:1})])]))}};export{et as default};
