import{u as V,r as x,z as g,e as r,o as i,f as t,p as m,k as b,l as C,v as N,x as l,A as S,t as k,y as a,F as w}from"./vendor-CDgTUOzk.js";import{S as I}from"./SectionCard-CnFX6nPM.js";import{_ as U,a as _}from"./ContactListEditor-WUAF6aSI.js";import{s as y,u as D,a as A}from"./index-DwkO3c2h.js";const B={class:"row g-3 justify-content-center"},O={class:"col-12 col-lg-8 col-xl-6"},T={class:"row g-3"},F={class:"col-md-4"},J={class:"col-md-8"},j={class:"form-label"},E={class:"col-md-6"},M={class:"col-md-6"},R={key:1,class:"col-md-6"},W={class:"col-12"},$={class:"col-12"},z={class:"col-12"},K={__name:"CustomerForm",setup(L){const u=V(),c=N(),d=u.path.endsWith("/edit"),p=d?u.params.id:null,o=x({id:"",type:"company",name:"",taxId:"",nid:"",website:"",addresses:[],contacts:[],notes:""});g(()=>{if(d&&p){const n=y.customers.find(s=>s.id===p);n&&Object.assign(o,JSON.parse(JSON.stringify(n)))}});function f(){c.push("/customers")}function v(){if(!o.name.trim())return;o.id||(o.id=D("cus_"));const n=JSON.parse(JSON.stringify(o));A(y.customers,n),alert("Customer saved"),c.push("/customers")}return(n,s)=>(i(),r("div",B,[t("div",O,[m(I,{title:C(d)?"Edit Customer":"New Customer"},{actions:b(()=>[t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:f},"Back to list")]),default:b(()=>[t("div",T,[t("div",F,[s[9]||(s[9]=t("label",{class:"form-label"},"Type",-1)),l(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":s[0]||(s[0]=e=>o.type=e)},[...s[8]||(s[8]=[t("option",{value:"company"},"Company",-1),t("option",{value:"person"},"Individual",-1)])],512),[[S,o.type]])]),t("div",J,[t("label",j,k(o.type==="company"?"Company Name":"Full Name"),1),l(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[1]||(s[1]=e=>o.name=e),placeholder:"e.g., Noor Traders Ltd. / Sabiha Ahmed"},null,512),[[a,o.name]])]),o.type==="company"?(i(),r(w,{key:0},[t("div",E,[s[10]||(s[10]=t("label",{class:"form-label"},"VAT / TAX ID",-1)),l(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[2]||(s[2]=e=>o.taxId=e),placeholder:"e.g., BD-1234567"},null,512),[[a,o.taxId]])]),t("div",M,[s[11]||(s[11]=t("label",{class:"form-label"},"Website",-1)),l(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[3]||(s[3]=e=>o.website=e),placeholder:"https://example.com.bd"},null,512),[[a,o.website]])])],64)):(i(),r("div",R,[s[12]||(s[12]=t("label",{class:"form-label"},"National ID (NID)",-1)),l(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[4]||(s[4]=e=>o.nid=e),placeholder:"e.g., 1234567890"},null,512),[[a,o.nid]])])),t("div",W,[s[13]||(s[13]=t("label",{class:"form-label"},"Notes",-1)),l(t("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":s[5]||(s[5]=e=>o.notes=e),placeholder:"Internal notes (optional)"},null,512),[[a,o.notes]])]),t("div",$,[s[14]||(s[14]=t("h6",{class:"text-secondary"},"Addresses",-1)),m(U,{modelValue:o.addresses,"onUpdate:modelValue":s[6]||(s[6]=e=>o.addresses=e)},null,8,["modelValue"])]),t("div",z,[s[15]||(s[15]=t("h6",{class:"text-secondary"},"Contacts",-1)),m(_,{modelValue:o.contacts,"onUpdate:modelValue":s[7]||(s[7]=e=>o.contacts=e)},null,8,["modelValue"])])]),t("div",{class:"d-flex justify-content-end gap-2 mt-2"},[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:f},"Cancel"),t("button",{class:"btn btn-primary",type:"button",onClick:v},"Save")])]),_:1},8,["title"])])]))}};export{K as default};
