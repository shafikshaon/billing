import{r as m,e as v,s as g,c as i,o as r,a as t,b as k,w,f as N,g as $,F as S,h as T,t as l,i as L,v as B,j as D}from"./index-DaYuDLQb.js";import{S as M}from"./SectionCard-CHGy0F5-.js";const P={class:"row g-3"},V={class:"col-12"},A={class:"d-flex gap-2"},R={class:"table table-sm align-middle mb-2"},j={class:"fw-medium"},E={class:"text-truncate",style:{"max-width":"560px"}},F={class:"text-end"},I={class:"btn-group btn-group-sm"},Z=["onClick"],q=["onClick"],z={key:0},U={class:"d-flex justify-content-between align-items-center"},G={class:"small text-muted"},H={class:"btn-group btn-group-sm"},J=["disabled"],K=["disabled"],b=8,X={__name:"TermsTemplatesList",setup(O){const p=N(),c=m(""),a=m(!0),o=m(1),_=v(()=>{const n=c.value.trim().toLowerCase();let e=g.termsTemplates.slice();return n&&(e=e.filter(s=>s.name?.toLowerCase().includes(n)||s.content?.toLowerCase().includes(n))),e.sort((s,u)=>{const f=(s.name||"").localeCompare(u.name||"");return a.value?f:-f}),e}),d=v(()=>Math.max(1,Math.ceil(_.value.length/b))),h=v(()=>{const e=(Math.min(o.value,d.value)-1)*b;return _.value.slice(e,e+b)});function C(){p.push("/terms-conditions/new")}function x(n){p.push(`/terms-conditions/${n.id}/edit`)}function y(n){confirm(`Delete template "${n.name}"?`)&&D(g.termsTemplates,n.id)}return(n,e)=>(r(),i("div",P,[t("div",V,[k(M,{title:"Terms & Conditions"},{actions:w(()=>[t("div",A,[L(t("input",{class:"form-control form-control-sm",placeholder:"Search...","onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s)},null,512),[[B,c.value]]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=s=>a.value=!a.value)}," Sort "+l(a.value?"A→Z":"Z→A"),1),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:C},"New")])]),default:w(()=>[t("table",R,[e[5]||(e[5]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"Name"),t("th",null,"Preview"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(r(!0),i(S,null,T(h.value,s=>(r(),i("tr",{key:s.id},[t("td",j,l(s.name),1),t("td",E,l(s.content),1),t("td",F,[t("div",I,[t("button",{class:"btn btn-outline-secondary",onClick:u=>x(s)},"Edit",8,Z),t("button",{class:"btn btn-outline-danger",onClick:u=>y(s)},"Delete",8,q)])])]))),128)),h.value.length===0?(r(),i("tr",z,[...e[4]||(e[4]=[t("td",{colspan:"3",class:"text-muted"},"No templates found.",-1)])])):$("",!0)])]),t("div",U,[t("div",G,"Page "+l(o.value)+" of "+l(d.value),1),t("div",H,[t("button",{class:"btn btn-outline-secondary",disabled:o.value<=1,onClick:e[2]||(e[2]=s=>o.value--)},"Prev",8,J),t("button",{class:"btn btn-outline-secondary",disabled:o.value>=d.value,onClick:e[3]||(e[3]=s=>o.value++)},"Next",8,K)])])]),_:1})])]))}};export{X as default};
