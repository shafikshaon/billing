import{k as b,l as v,m as _,s as p,c as V,a as s,b as d,w as f,u as x,f as g,o as N,i as l,n as h,t as k,v as r,p as C,q as S}from"./index-CHdhSjhx.js";import{_ as w}from"./SectionCard-D4lkJobp.js";import{_ as M,a as U}from"./ContactListEditor-DuqLfuMZ.js";const I={class:"row g-3 justify-content-center"},O={class:"col-12 col-lg-8 col-xl-6"},T={class:"row g-3"},B={class:"col-md-4"},D={class:"col-md-8"},J={class:"form-label"},j={class:"col-md-6"},A={class:"col-12"},E={class:"col-12"},$={class:"col-12"},P={__name:"MerchantForm",setup(F){const i=b(),c=g(),a=i.path.endsWith("/edit"),m=a?i.params.id:null,o=v({id:"",type:"company",name:"",taxId:"",addresses:[],contacts:[],notes:""});_(()=>{if(a&&m){const n=p.merchants.find(t=>t.id===m);n&&Object.assign(o,JSON.parse(JSON.stringify(n)))}});function u(){c.push("/merchants")}function y(){if(!o.name.trim())return;o.id||(o.id=C("mrc_"));const n=JSON.parse(JSON.stringify(o));S(p.merchants,n),alert("Merchant saved"),c.push("/merchants")}return(n,t)=>(N(),V("div",I,[s("div",O,[d(w,{title:x(a)?"Edit Merchant":"New Merchant"},{actions:f(()=>[s("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:u},"Back to list")]),default:f(()=>[s("div",T,[s("div",B,[t[7]||(t[7]=s("label",{class:"form-label"},"Type",-1)),l(s("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[0]||(t[0]=e=>o.type=e)},[...t[6]||(t[6]=[s("option",{value:"company"},"Company",-1),s("option",{value:"person"},"Person",-1)])],512),[[h,o.type]])]),s("div",D,[s("label",J,k(o.type==="company"?"Company Name":"Full Name"),1),l(s("input",{class:"form-control form-control-sm","onUpdate:modelValue":t[1]||(t[1]=e=>o.name=e),placeholder:"e.g., Dhaka Tech Ltd."},null,512),[[r,o.name]])]),s("div",j,[t[8]||(t[8]=s("label",{class:"form-label"},"VAT / TAX ID",-1)),l(s("input",{class:"form-control form-control-sm","onUpdate:modelValue":t[2]||(t[2]=e=>o.taxId=e),placeholder:"e.g., US-12-3456789"},null,512),[[r,o.taxId]])]),s("div",A,[t[9]||(t[9]=s("label",{class:"form-label"},"Notes",-1)),l(s("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":t[3]||(t[3]=e=>o.notes=e),placeholder:"Internal notes (optional)"},null,512),[[r,o.notes]])]),s("div",E,[t[10]||(t[10]=s("h6",{class:"text-secondary"},"Addresses",-1)),d(M,{modelValue:o.addresses,"onUpdate:modelValue":t[4]||(t[4]=e=>o.addresses=e)},null,8,["modelValue"])]),s("div",$,[t[11]||(t[11]=s("h6",{class:"text-secondary"},"Contacts",-1)),d(U,{modelValue:o.contacts,"onUpdate:modelValue":t[5]||(t[5]=e=>o.contacts=e)},null,8,["modelValue"])])]),s("div",{class:"d-flex justify-content-end gap-2 mt-2"},[s("button",{class:"btn btn-outline-secondary",type:"button",onClick:u},"Cancel"),s("button",{class:"btn btn-primary",type:"button",onClick:y},"Save")])]),_:1},8,["title"])])]))}};export{P as default};
