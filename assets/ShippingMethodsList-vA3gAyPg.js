import{r as m,e as p,s as f,c as a,a as t,b as w,w as x,f as N,o as i,g as M,F as $,h as D,t as n,i as F,v as L,j as S}from"./index-CHdhSjhx.js";import{_ as A}from"./SectionCard-D4lkJobp.js";const B={class:"row g-3"},R={class:"col-12"},V={class:"d-flex gap-2"},P={class:"table table-sm align-middle mb-2"},T={class:"fw-medium"},j={class:"text-capitalize"},z={key:0},E={key:1},I={class:"text-end"},Z={class:"btn-group btn-group-sm"},q=["onClick"],O=["onClick"],U={key:0},Y={class:"d-flex justify-content-between align-items-center"},G={class:"small text-muted"},H={class:"btn-group btn-group-sm"},J=["disabled"],K=["disabled"],h=10,tt={__name:"ShippingMethodsList",setup(Q){const b=N(),r=m(""),d=m(!0),l=m(1),v=p(()=>{const o=r.value.trim().toLowerCase();let s=f.shippingMethods.slice();return o&&(s=s.filter(e=>e.name?.toLowerCase().includes(o)||e.provider?.toLowerCase().includes(o))),s.sort((e,c)=>{const g=(e.name||"").localeCompare(c.name||"");return d.value?g:-g}),s}),u=p(()=>Math.max(1,Math.ceil(v.value.length/h))),_=p(()=>{const s=(Math.min(l.value,u.value)-1)*h;return v.value.slice(s,s+h)});function y(){b.push("/shipping/new")}function C(o){b.push(`/shipping/${o.id}/edit`)}function k(o){confirm(`Delete shipping method "${o.name}"?`)&&S(f.shippingMethods,o.id)}return(o,s)=>(i(),a("div",B,[t("div",R,[w(A,{title:"Shipping Methods"},{actions:x(()=>[t("div",V,[F(t("input",{class:"form-control form-control-sm",placeholder:"Search...","onUpdate:modelValue":s[0]||(s[0]=e=>r.value=e)},null,512),[[L,r.value]]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:s[1]||(s[1]=e=>d.value=!d.value)}," Sort "+n(d.value?"A→Z":"Z→A"),1),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:y},"New")])]),default:x(()=>[t("table",P,[s[5]||(s[5]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"Name"),t("th",null,"Region"),t("th",null,"Charge"),t("th",null,"Free ≥"),t("th",null,"Lead time"),t("th",null,"COD"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(i(!0),a($,null,D(_.value,e=>(i(),a("tr",{key:e.id},[t("td",T,n(e.name),1),t("td",j,n(e.region.replace("_"," ")),1),t("td",null,[e.chargeType==="fixed"?(i(),a("span",z,"৳"+n(Number(e.amount).toFixed(0)),1)):(i(),a("span",E,n(Number(e.amount).toFixed(1))+"%",1))]),t("td",null,"৳"+n(Number(e.freeThreshold||0).toFixed(0)),1),t("td",null,n(e.leadDaysMin)+"–"+n(e.leadDaysMax)+" d",1),t("td",null,n(e.codAvailable?"Yes":"No"),1),t("td",I,[t("div",Z,[t("button",{class:"btn btn-outline-secondary",onClick:c=>C(e)},"Edit",8,q),t("button",{class:"btn btn-outline-danger",onClick:c=>k(e)},"Delete",8,O)])])]))),128)),_.value.length===0?(i(),a("tr",U,[...s[4]||(s[4]=[t("td",{colspan:"7",class:"text-muted"},"No shipping methods found.",-1)])])):M("",!0)])]),t("div",Y,[t("div",G,"Page "+n(l.value)+" of "+n(u.value),1),t("div",H,[t("button",{class:"btn btn-outline-secondary",disabled:l.value<=1,onClick:s[2]||(s[2]=e=>l.value--)},"Prev",8,J),t("button",{class:"btn btn-outline-secondary",disabled:l.value>=u.value,onClick:s[3]||(s[3]=e=>l.value++)},"Next",8,K)])])]),_:1})])]))}};export{tt as default};
