import{k as b,l as x,m as _,s as d,c as v,a as t,b as y,w as u,u as g,f as N,o as k,i as m,v as f,p as w,q as S}from"./index-CHdhSjhx.js";import{_ as T}from"./SectionCard-D4lkJobp.js";const h={class:"row g-3 justify-content-center"},C={class:"col-12 col-lg-8 col-xl-6"},O={class:"row g-3"},V={class:"col-md-8"},B={class:"col-md-4"},R={__name:"TaxForm",setup(J){const i=b(),l=N(),a=i.path.endsWith("/edit"),r=a?i.params.id:null,s=x({id:"",name:"",rate:0});_(()=>{if(a&&r){const o=d.taxes.find(e=>e.id===r);o&&Object.assign(s,JSON.parse(JSON.stringify(o)))}});function c(){l.push("/taxes")}function p(){if(!s.name.trim())return;s.rate<0&&(s.rate=0),s.id||(s.id=w("tax_"));const o=JSON.parse(JSON.stringify(s));S(d.taxes,o),alert("Tax saved"),l.push("/taxes")}return(o,e)=>(k(),v("div",h,[t("div",C,[y(T,{title:g(a)?"Edit Tax":"New Tax"},{actions:u(()=>[t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:c},"Back to list")]),default:u(()=>[t("div",O,[t("div",V,[e[2]||(e[2]=t("label",{class:"form-label"},"Name",-1)),m(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":e[0]||(e[0]=n=>s.name=n),placeholder:"e.g., VAT 15% (Standard)"},null,512),[[f,s.name]])]),t("div",B,[e[3]||(e[3]=t("label",{class:"form-label"},"Rate (%)",-1)),m(t("input",{class:"form-control form-control-sm",type:"number",min:"0",step:"0.01","onUpdate:modelValue":e[1]||(e[1]=n=>s.rate=n)},null,512),[[f,s.rate,void 0,{number:!0}]])])]),t("div",{class:"d-flex justify-content-end gap-2 mt-2"},[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:c},"Cancel"),t("button",{class:"btn btn-primary",type:"button",onClick:p},"Save")])]),_:1},8,["title"])])]))}};export{R as default};
