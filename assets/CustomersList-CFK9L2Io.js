import{s as p,b as v,e as c,o as d,f as t,p as B,k as C,v as S,i as V,F as A,h as D,t as l,x as I,y as L}from"./vendor-CDgTUOzk.js";import{S as M}from"./SectionCard-Emg7MEbk.js";import{s as k,r as R}from"./index-DuACpEyu.js";const P={class:"row g-3"},z={class:"col-12"},E={class:"d-flex gap-2"},F={class:"table-wrapper"},T={class:"table table-sm align-middle"},Z={class:"fw-medium"},q={class:"badge text-bg-secondary text-capitalize"},U={class:"text-end"},j={class:"btn-group btn-group-sm"},G=["onClick"],H=["onClick"],J=["onClick"],K={key:0},O={class:"table-footer"},Q={class:"small text-muted"},W={class:"btn-group btn-group-sm"},X=["disabled"],Y=["disabled"],_=8,nt={__name:"CustomersList",setup(tt){const i=S(),m=p(""),r=p(!0),a=p(1),h=v(()=>{const o=m.value.trim().toLowerCase();let e=k.customers.slice();return o&&(e=e.filter(s=>{var n;return(n=s.name)==null?void 0:n.toLowerCase().includes(o)})),e.sort((s,n)=>{const u=(s.name||"").localeCompare(n.name||"");return r.value?u:-u}),e}),b=v(()=>Math.max(1,Math.ceil(h.value.length/_))),f=v(()=>{const e=(Math.min(a.value,b.value)-1)*_;return h.value.slice(e,e+_)});function y(){i.push("/customers/new")}function w(){i.push("/customers/bulk-import")}function x(o){i.push(`/customers/${o.id}`)}function $(o){i.push(`/customers/${o.id}/edit`)}function N(o){confirm(`Delete customer "${o.name}"?`)&&R(k.customers,o.id)}return(o,e)=>(d(),c("div",P,[t("div",z,[B(M,{title:"Customers"},{actions:C(()=>[t("div",E,[I(t("input",{class:"form-control form-control-sm",placeholder:"Search...","onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s)},null,512),[[L,m.value]]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=s=>r.value=!r.value)}," Sort "+l(r.value?"A→Z":"Z→A"),1),t("button",{class:"btn btn-sm btn-success",type:"button",onClick:w},"Bulk Import"),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:y},"New")])]),default:C(()=>[t("div",F,[t("table",T,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Type"),t("th",null,"Addresses"),t("th",null,"Contacts"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(d(!0),c(A,null,D(f.value,s=>{var n,u;return d(),c("tr",{key:s.id},[t("td",Z,l(s.name),1),t("td",null,[t("span",q,l(s.type),1)]),t("td",null,l(((n=s.addresses)==null?void 0:n.length)||0),1),t("td",null,l(((u=s.contacts)==null?void 0:u.length)||0),1),t("td",U,[t("div",j,[t("button",{class:"btn btn-outline-secondary",onClick:g=>x(s)},"View",8,G),t("button",{class:"btn btn-outline-secondary",onClick:g=>$(s)},"Edit",8,H),t("button",{class:"btn btn-outline-danger",onClick:g=>N(s)},"Delete",8,J)])])])}),128)),f.value.length===0?(d(),c("tr",K,[...e[4]||(e[4]=[t("td",{colspan:"5",class:"text-muted"},"No customers found.",-1)])])):V("",!0)])])]),t("div",O,[t("div",Q,"Page "+l(a.value)+" of "+l(b.value),1),t("div",W,[t("button",{class:"btn btn-outline-secondary",disabled:a.value<=1,onClick:e[2]||(e[2]=s=>a.value--)},"Prev",8,X),t("button",{class:"btn btn-outline-secondary",disabled:a.value>=b.value,onClick:e[3]||(e[3]=s=>a.value++)},"Next",8,Y)])])]),_:1})])]))}};export{nt as default};
