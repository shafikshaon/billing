var O=Object.defineProperty,w=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var k=(a,l,t)=>l in a?O(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,M=(a,l)=>{for(var t in l||(l={}))B.call(l,t)&&k(a,t,l[t]);if(V)for(var t of V(l))C.call(l,t)&&k(a,t,l[t]);return a},U=(a,l)=>w(a,F(l));import{r as E,d as i,o as d,e as o,p as h,l as A,x as n,y as f,A as m,B as Z,F as p,g as v,m as b,t as c}from"./vendor-CJczNIjx.js";import{S as j}from"./SectionCard-C9PBNAnP.js";import{s as r,b as q}from"./index-CYiN_h_V.js";const K={class:"row g-3"},L={class:"col-12 col-lg-8 col-xl-6"},G={class:"row g-3"},H={class:"col-md-4"},J={class:"col-md-4"},Q={class:"col-md-4"},R={class:"col-md-6"},W={class:"form-check mt-2"},X={class:"col-12"},Y=["value"],$={class:"col-12"},_=["value"],ee={class:"col-12"},te=["value"],oe={class:"col-12"},ne={__name:"Settings",setup(a){var x,T,g,N,S,y,I,P;const l=q(),t=E({prefix:((x=r.settings.invoice)==null?void 0:x.prefix)||"INV-",nextNumber:((T=r.settings.invoice)==null?void 0:T.nextNumber)||1001,zeroPad:((g=r.settings.invoice)==null?void 0:g.zeroPad)||4,autoNumberOnSave:!!((N=r.settings.invoice)!=null&&N.autoNumberOnSave),footerText:((S=r.settings.invoice)==null?void 0:S.footerText)||"",defaultPaymentTermId:((y=r.settings.invoice)==null?void 0:y.defaultPaymentTermId)||"",defaultTermsTemplateId:((I=r.settings.invoice)==null?void 0:I.defaultTermsTemplateId)||"",defaultShippingMethodId:((P=r.settings.invoice)==null?void 0:P.defaultShippingMethodId)||""});function z(){var u;return(u=t.prefix)!=null&&u.trim()?!t.nextNumber||t.nextNumber<1?(l.error("Validation Error","Next number must be at least 1"),!1):t.zeroPad<0?(l.error("Validation Error","Zero pad cannot be negative"),!1):!0:(l.error("Validation Error","Invoice number prefix is required"),!1)}function D(){z()&&(r.settings.invoice=U(M({},r.settings.invoice),{prefix:t.prefix,nextNumber:Number(t.nextNumber)||1,zeroPad:Number(t.zeroPad)||0,autoNumberOnSave:!!t.autoNumberOnSave,footerText:t.footerText,defaultPaymentTermId:t.defaultPaymentTermId,defaultTermsTemplateId:t.defaultTermsTemplateId,defaultShippingMethodId:t.defaultShippingMethodId}),l.success("Saved","Settings saved successfully"))}return(u,e)=>(d(),i("div",K,[o("div",L,[h(j,{title:"Invoice Settings"},{default:A(()=>[o("div",G,[o("div",H,[e[8]||(e[8]=o("label",{class:"form-label"},"Number Prefix",-1)),n(o("input",{class:"form-control form-control-sm","onUpdate:modelValue":e[0]||(e[0]=s=>t.prefix=s)},null,512),[[f,t.prefix]])]),o("div",J,[e[9]||(e[9]=o("label",{class:"form-label"},"Next Number",-1)),n(o("input",{class:"form-control form-control-sm",type:"number",min:"1",step:"1","onUpdate:modelValue":e[1]||(e[1]=s=>t.nextNumber=s)},null,512),[[f,t.nextNumber,void 0,{number:!0}]])]),o("div",Q,[e[11]||(e[11]=o("label",{class:"form-label"},"Zero Pad",-1)),n(o("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[2]||(e[2]=s=>t.zeroPad=s)},[...e[10]||(e[10]=[o("option",{value:0},"None",-1),o("option",{value:3},"3",-1),o("option",{value:4},"4",-1),o("option",{value:5},"5",-1),o("option",{value:6},"6",-1)])],512),[[m,t.zeroPad,void 0,{number:!0}]])]),o("div",R,[o("div",W,[n(o("input",{class:"form-check-input",type:"checkbox",id:"autoNum","onUpdate:modelValue":e[3]||(e[3]=s=>t.autoNumberOnSave=s)},null,512),[[Z,t.autoNumberOnSave]]),e[12]||(e[12]=o("label",{class:"form-check-label",for:"autoNum"},"Auto-number on Save",-1))])]),o("div",X,[e[14]||(e[14]=o("label",{class:"form-label"},"Default Payment Terms",-1)),n(o("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[4]||(e[4]=s=>t.defaultPaymentTermId=s)},[e[13]||(e[13]=o("option",{value:""},"—",-1)),(d(!0),i(p,null,v(b(r).paymentTerms,s=>(d(),i("option",{key:s.id,value:s.id},c(s.name),9,Y))),128))],512),[[m,t.defaultPaymentTermId]])]),o("div",$,[e[16]||(e[16]=o("label",{class:"form-label"},"Default Terms Template",-1)),n(o("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[5]||(e[5]=s=>t.defaultTermsTemplateId=s)},[e[15]||(e[15]=o("option",{value:""},"—",-1)),(d(!0),i(p,null,v(b(r).termsTemplates,s=>(d(),i("option",{key:s.id,value:s.id},c(s.name),9,_))),128))],512),[[m,t.defaultTermsTemplateId]])]),o("div",ee,[e[18]||(e[18]=o("label",{class:"form-label"},"Default Shipping Method",-1)),n(o("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[6]||(e[6]=s=>t.defaultShippingMethodId=s)},[e[17]||(e[17]=o("option",{value:""},"—",-1)),(d(!0),i(p,null,v(b(r).shippingMethods,s=>(d(),i("option",{key:s.id,value:s.id},c(s.name),9,te))),128))],512),[[m,t.defaultShippingMethodId]])]),o("div",oe,[e[19]||(e[19]=o("label",{class:"form-label"},"Footer Text (appears on PDF)",-1)),n(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[7]||(e[7]=s=>t.footerText=s),placeholder:"e.g., Thank you for your business. Payments via bKash/Nagad merchant or bank transfer."},null,512),[[f,t.footerText]])])]),o("div",{class:"d-flex justify-content-end mt-3"},[o("button",{class:"btn btn-primary",onClick:D},"Save Settings")])]),_:1})])]))}};export{ne as default};
