import{u as g,v as x,r as M,z as V,e as h,o as D,f as o,p as S,l as c,x as l,y as n,A as d,m as k}from"./vendor-iuljl24U.js";import{S as T}from"./SectionCard-Dmmq5Wv1.js";import{s as b,u as E,a as C,b as N}from"./index-C5H4V0g2.js";const U={class:"row g-3 justify-content-center"},A={class:"col-12 col-lg-8 col-xl-6"},O={class:"row g-3"},w={class:"col-md-8"},F={class:"col-md-4"},B={class:"col-md-4"},J={class:"col-md-4"},j={class:"col-md-4"},I={class:"col-md-4"},P={class:"col-md-4"},R={class:"col-md-4"},L={class:"col-md-4"},G={__name:"ShippingMethodForm",setup(q){const m=g(),u=x(),r=N(),i=m.path.endsWith("/edit"),p=i?m.params.id:null,t=M({id:"",name:"",provider:"",region:"any",chargeType:"fixed",amount:0,freeThreshold:0,leadDaysMin:0,leadDaysMax:0,codAvailable:!0});V(()=>{if(i&&p){const a=b.shippingMethods.find(e=>e.id===p);a&&Object.assign(t,JSON.parse(JSON.stringify(a)))}});function v(){var a;return(a=t.name)!=null&&a.trim()?t.amount<0?(r.error("Validation Error","Amount must be 0 or greater"),!1):t.chargeType==="percent"&&t.amount>100?(r.error("Validation Error","Percent charge cannot exceed 100%"),!1):t.freeThreshold<0?(r.error("Validation Error","Free threshold must be 0 or greater"),!1):t.leadDaysMin<0?(r.error("Validation Error","Minimum lead days must be 0 or greater"),!1):t.leadDaysMax<0?(r.error("Validation Error","Maximum lead days must be 0 or greater"),!1):t.leadDaysMax>0&&t.leadDaysMin>t.leadDaysMax?(r.error("Validation Error","Minimum lead days cannot exceed maximum lead days"),!1):!0:(r.error("Validation Error","Shipping method name is required"),!1)}function f(){u.push("/shipping")}function y(){if(!v())return;t.id||(t.id=E("ship_"));const a=JSON.parse(JSON.stringify(t));C(b.shippingMethods,a),r.success("Saved","Shipping method saved successfully"),u.push("/shipping")}return(a,e)=>(D(),h("div",U,[o("div",A,[S(T,{title:k(i)?"Edit Shipping Method":"New Shipping Method"},{actions:c(()=>[o("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:f},"Back to list")]),default:c(()=>[o("div",O,[o("div",w,[e[9]||(e[9]=o("label",{class:"form-label"},"Name",-1)),l(o("input",{class:"form-control form-control-sm","onUpdate:modelValue":e[0]||(e[0]=s=>t.name=s),placeholder:"e.g., Sundarban Courier - Inside Dhaka"},null,512),[[n,t.name]])]),o("div",F,[e[10]||(e[10]=o("label",{class:"form-label"},"Provider",-1)),l(o("input",{class:"form-control form-control-sm","onUpdate:modelValue":e[1]||(e[1]=s=>t.provider=s),placeholder:"e.g., Sundarban"},null,512),[[n,t.provider]])]),o("div",B,[e[12]||(e[12]=o("label",{class:"form-label"},"Region",-1)),l(o("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[2]||(e[2]=s=>t.region=s)},[...e[11]||(e[11]=[o("option",{value:"any"},"Any",-1),o("option",{value:"inside_dhaka"},"Inside Dhaka",-1),o("option",{value:"outside_dhaka"},"Outside Dhaka",-1)])],512),[[d,t.region]])]),o("div",J,[e[14]||(e[14]=o("label",{class:"form-label"},"Charge Type",-1)),l(o("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[3]||(e[3]=s=>t.chargeType=s)},[...e[13]||(e[13]=[o("option",{value:"fixed"},"Fixed",-1),o("option",{value:"percent"},"Percent",-1)])],512),[[d,t.chargeType]])]),o("div",j,[e[15]||(e[15]=o("label",{class:"form-label"},"Amount",-1)),l(o("input",{class:"form-control form-control-sm text-end",type:"number",min:"0",step:"0.01","onUpdate:modelValue":e[4]||(e[4]=s=>t.amount=s)},null,512),[[n,t.amount,void 0,{number:!0}]])]),o("div",I,[e[16]||(e[16]=o("label",{class:"form-label"},"Free above (à§³)",-1)),l(o("input",{class:"form-control form-control-sm text-end",type:"number",min:"0",step:"1","onUpdate:modelValue":e[5]||(e[5]=s=>t.freeThreshold=s)},null,512),[[n,t.freeThreshold,void 0,{number:!0}]])]),o("div",P,[e[17]||(e[17]=o("label",{class:"form-label"},"Lead (min days)",-1)),l(o("input",{class:"form-control form-control-sm text-end",type:"number",min:"0",step:"1","onUpdate:modelValue":e[6]||(e[6]=s=>t.leadDaysMin=s)},null,512),[[n,t.leadDaysMin,void 0,{number:!0}]])]),o("div",R,[e[18]||(e[18]=o("label",{class:"form-label"},"Lead (max days)",-1)),l(o("input",{class:"form-control form-control-sm text-end",type:"number",min:"0",step:"1","onUpdate:modelValue":e[7]||(e[7]=s=>t.leadDaysMax=s)},null,512),[[n,t.leadDaysMax,void 0,{number:!0}]])]),o("div",L,[e[20]||(e[20]=o("label",{class:"form-label"},"COD Available",-1)),l(o("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[8]||(e[8]=s=>t.codAvailable=s)},[...e[19]||(e[19]=[o("option",{value:!0},"Yes",-1),o("option",{value:!1},"No",-1)])],512),[[d,t.codAvailable]])])]),o("div",{class:"d-flex justify-content-end gap-2 mt-2"},[o("button",{class:"btn btn-outline-secondary",type:"button",onClick:f},"Cancel"),o("button",{class:"btn btn-primary",type:"button",onClick:y},"Save")])]),_:1},8,["title"])])]))}};export{G as default};
