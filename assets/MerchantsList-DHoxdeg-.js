import{v as A,b as v,d,e as i,o as r,f as t,p as V,l as C,j as D,t as o,F as w,g as I,x as L,y as E}from"./vendor-iuljl24U.js";import{S as P}from"./SectionCard-Cl3nWDUi.js";import{s as x,r as T}from"./index-FBZ1k241.js";const j={class:"row g-3"},z={class:"col-12"},F={class:"d-flex gap-2"},Q={class:"search-bar"},Z={key:0,class:"empty-state"},q={class:"empty-state-title"},G={class:"empty-state-description"},R={key:0,class:"empty-state-action"},U={class:"table-wrapper"},H={class:"table table-sm align-middle"},J={class:"fw-medium"},K={class:"badge text-bg-secondary text-capitalize"},O={class:"text-end"},W={class:"btn-group btn-group-sm"},X=["onClick"],Y=["onClick"],tt=["onClick"],et={class:"table-footer"},st={class:"small text-muted"},nt={class:"btn-group btn-group-sm"},ot=["disabled"],at=["disabled"],_=8,dt={__name:"MerchantsList",setup(lt){const u=A(),m=v(""),p=v(!0),l=v(1),y=d(()=>{const n=m.value.trim().toLowerCase();let e=x.merchants.slice();return n&&(e=e.filter(s=>{var a;return(a=s.name)==null?void 0:a.toLowerCase().includes(n)})),e.sort((s,a)=>{const c=(s.name||"").localeCompare(a.name||"");return p.value?c:-c}),e}),b=d(()=>Math.max(1,Math.ceil(y.value.length/_))),f=d(()=>{const e=(Math.min(l.value,b.value)-1)*_;return y.value.slice(e,e+_)}),h=d(()=>m.value.trim().length>0),N=d(()=>f.value.length===0);function g(){u.push("/merchants/new")}function $(){u.push("/merchants/bulk-import")}function S(n){u.push(`/merchants/${n.id}`)}function M(n){u.push(`/merchants/${n.id}/edit`)}function B(n){confirm(`Delete merchant "${n.name}"?`)&&T(x.merchants,n.id)}return(n,e)=>(r(),i("div",j,[t("div",z,[V(P,{title:"Merchants"},{actions:C(()=>[t("div",F,[t("div",Q,[e[4]||(e[4]=t("span",{class:"search-icon"},"ðŸ”",-1)),L(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s),class:"form-control form-control-sm",placeholder:"Search merchants..."},null,512),[[E,m.value]])]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=s=>p.value=!p.value)}," Sort "+o(p.value?"Aâ†’Z":"Zâ†’A"),1),t("button",{class:"btn btn-sm btn-success",type:"button",onClick:$},"Bulk Import"),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:g},"New")])]),default:C(()=>[N.value?(r(),i("div",Z,[e[5]||(e[5]=t("div",{class:"empty-state-icon"},"ðŸ¢",-1)),t("div",q,o(h.value?"No merchants found":"No merchants yet"),1),t("div",G,o(h.value?"Try adjusting your search to find what you're looking for.":"Get started by adding your first merchant to manage customer or supplier information."),1),h.value?D("",!0):(r(),i("div",R,[t("button",{class:"btn btn-primary",onClick:g}," Add Merchant ")]))])):(r(),i(w,{key:1},[t("div",U,[t("table",H,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Type"),t("th",null,"Addresses"),t("th",null,"Contacts"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(r(!0),i(w,null,I(f.value,s=>{var a,c;return r(),i("tr",{key:s.id},[t("td",J,o(s.name),1),t("td",null,[t("span",K,o(s.type),1)]),t("td",null,o(((a=s.addresses)==null?void 0:a.length)||0),1),t("td",null,o(((c=s.contacts)==null?void 0:c.length)||0),1),t("td",O,[t("div",W,[t("button",{class:"btn btn-outline-secondary",onClick:k=>S(s)},"View",8,X),t("button",{class:"btn btn-outline-secondary",onClick:k=>M(s)},"Edit",8,Y),t("button",{class:"btn btn-outline-danger",onClick:k=>B(s)},"Delete",8,tt)])])])}),128))])])]),t("div",et,[t("div",st,"Page "+o(l.value)+" of "+o(b.value),1),t("div",nt,[t("button",{class:"btn btn-outline-secondary",disabled:l.value<=1,onClick:e[2]||(e[2]=s=>l.value--)},"Prev",8,ot),t("button",{class:"btn btn-outline-secondary",disabled:l.value>=b.value,onClick:e[3]||(e[3]=s=>l.value++)},"Next",8,at)])])],64))]),_:1})])]))}};export{dt as default};
