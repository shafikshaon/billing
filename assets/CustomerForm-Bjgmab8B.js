import{u as C,v as g,r as N,z as S,e as d,o as i,f as t,p as m,l as y,x as n,A as w,t as I,y as a,F as k,m as U}from"./vendor-iuljl24U.js";import{S as _}from"./SectionCard-Cl3nWDUi.js";import{_ as D,a as T}from"./ContactListEditor-BxdrJgMc.js";import{s as v,u as A,a as B,b as F}from"./index-FBZ1k241.js";const O={class:"row g-3 justify-content-center"},E={class:"col-12 col-lg-8 col-xl-6"},J={class:"row g-3"},j={class:"col-md-4"},M={class:"col-md-8"},R={class:"form-label"},W={class:"col-md-6"},$={class:"col-md-6"},q={key:1,class:"col-md-6"},z={class:"col-12"},L={class:"col-12"},X={class:"col-12"},Y={__name:"CustomerForm",setup(G){const u=C(),c=g(),p=F(),r=u.path.endsWith("/edit"),f=r?u.params.id:null,o=N({id:"",type:"company",name:"",taxId:"",nid:"",website:"",addresses:[],contacts:[],notes:""});S(()=>{if(r&&f){const l=v.customers.find(s=>s.id===f);l&&Object.assign(o,JSON.parse(JSON.stringify(l)))}});function V(){var l;return(l=o.name)!=null&&l.trim()?!0:(p.error("Validation Error","Customer name is required"),!1)}function b(){c.push("/customers")}function x(){if(!V())return;o.id||(o.id=A("cus_"));const l=JSON.parse(JSON.stringify(o));B(v.customers,l),p.success("Saved","Customer saved successfully"),c.push("/customers")}return(l,s)=>(i(),d("div",O,[t("div",E,[m(_,{title:U(r)?"Edit Customer":"New Customer"},{actions:y(()=>[t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:b},"Back to list")]),default:y(()=>[t("div",J,[t("div",j,[s[9]||(s[9]=t("label",{class:"form-label"},"Type",-1)),n(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":s[0]||(s[0]=e=>o.type=e)},[...s[8]||(s[8]=[t("option",{value:"company"},"Company",-1),t("option",{value:"person"},"Individual",-1)])],512),[[w,o.type]])]),t("div",M,[t("label",R,I(o.type==="company"?"Company Name":"Full Name"),1),n(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[1]||(s[1]=e=>o.name=e),placeholder:"e.g., Noor Traders Ltd. / Sabiha Ahmed"},null,512),[[a,o.name]])]),o.type==="company"?(i(),d(k,{key:0},[t("div",W,[s[10]||(s[10]=t("label",{class:"form-label"},"VAT / TAX ID",-1)),n(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[2]||(s[2]=e=>o.taxId=e),placeholder:"e.g., BD-1234567"},null,512),[[a,o.taxId]])]),t("div",$,[s[11]||(s[11]=t("label",{class:"form-label"},"Website",-1)),n(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[3]||(s[3]=e=>o.website=e),placeholder:"https://example.com.bd"},null,512),[[a,o.website]])])],64)):(i(),d("div",q,[s[12]||(s[12]=t("label",{class:"form-label"},"National ID (NID)",-1)),n(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":s[4]||(s[4]=e=>o.nid=e),placeholder:"e.g., 1234567890"},null,512),[[a,o.nid]])])),t("div",z,[s[13]||(s[13]=t("label",{class:"form-label"},"Notes",-1)),n(t("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":s[5]||(s[5]=e=>o.notes=e),placeholder:"Internal notes (optional)"},null,512),[[a,o.notes]])]),t("div",L,[s[14]||(s[14]=t("h6",{class:"text-secondary"},"Addresses",-1)),m(D,{modelValue:o.addresses,"onUpdate:modelValue":s[6]||(s[6]=e=>o.addresses=e)},null,8,["modelValue"])]),t("div",X,[s[15]||(s[15]=t("h6",{class:"text-secondary"},"Contacts",-1)),m(T,{modelValue:o.contacts,"onUpdate:modelValue":s[7]||(s[7]=e=>o.contacts=e)},null,8,["modelValue"])])]),t("div",{class:"d-flex justify-content-end gap-2 mt-2"},[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:b},"Cancel"),t("button",{class:"btn btn-primary",type:"button",onClick:x},"Save")])]),_:1},8,["title"])])]))}};export{Y as default};
