import{u as b,r as v,z as x,e as V,o as g,f as s,p as r,k as p,l as _,v as N,x as n,A as S,t as C,y as d}from"./vendor-CDgTUOzk.js";import{S as h}from"./SectionCard-CnFX6nPM.js";import{_ as k,a as M}from"./ContactListEditor-WUAF6aSI.js";import{s as f,u as U,a as w}from"./index-DwkO3c2h.js";const I={class:"row g-3 justify-content-center"},O={class:"col-12 col-lg-8 col-xl-6"},T={class:"row g-3"},A={class:"col-md-4"},B={class:"col-md-8"},D={class:"form-label"},J={class:"col-md-6"},j={class:"col-12"},E={class:"col-12"},F={class:"col-12"},W={__name:"MerchantForm",setup(R){const i=b(),c=N(),a=i.path.endsWith("/edit"),m=a?i.params.id:null,o=v({id:"",type:"company",name:"",taxId:"",addresses:[],contacts:[],notes:""});x(()=>{if(a&&m){const l=f.merchants.find(t=>t.id===m);l&&Object.assign(o,JSON.parse(JSON.stringify(l)))}});function u(){c.push("/merchants")}function y(){if(!o.name.trim())return;o.id||(o.id=U("mrc_"));const l=JSON.parse(JSON.stringify(o));w(f.merchants,l),alert("Merchant saved"),c.push("/merchants")}return(l,t)=>(g(),V("div",I,[s("div",O,[r(h,{title:_(a)?"Edit Merchant":"New Merchant"},{actions:p(()=>[s("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:u},"Back to list")]),default:p(()=>[s("div",T,[s("div",A,[t[7]||(t[7]=s("label",{class:"form-label"},"Type",-1)),n(s("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[0]||(t[0]=e=>o.type=e)},[...t[6]||(t[6]=[s("option",{value:"company"},"Company",-1),s("option",{value:"person"},"Person",-1)])],512),[[S,o.type]])]),s("div",B,[s("label",D,C(o.type==="company"?"Company Name":"Full Name"),1),n(s("input",{class:"form-control form-control-sm","onUpdate:modelValue":t[1]||(t[1]=e=>o.name=e),placeholder:"e.g., Dhaka Tech Ltd."},null,512),[[d,o.name]])]),s("div",J,[t[8]||(t[8]=s("label",{class:"form-label"},"VAT / TAX ID",-1)),n(s("input",{class:"form-control form-control-sm","onUpdate:modelValue":t[2]||(t[2]=e=>o.taxId=e),placeholder:"e.g., US-12-3456789"},null,512),[[d,o.taxId]])]),s("div",j,[t[9]||(t[9]=s("label",{class:"form-label"},"Notes",-1)),n(s("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":t[3]||(t[3]=e=>o.notes=e),placeholder:"Internal notes (optional)"},null,512),[[d,o.notes]])]),s("div",E,[t[10]||(t[10]=s("h6",{class:"text-secondary"},"Addresses",-1)),r(k,{modelValue:o.addresses,"onUpdate:modelValue":t[4]||(t[4]=e=>o.addresses=e)},null,8,["modelValue"])]),s("div",F,[t[11]||(t[11]=s("h6",{class:"text-secondary"},"Contacts",-1)),r(M,{modelValue:o.contacts,"onUpdate:modelValue":t[5]||(t[5]=e=>o.contacts=e)},null,8,["modelValue"])])]),s("div",{class:"d-flex justify-content-end gap-2 mt-2"},[s("button",{class:"btn btn-outline-secondary",type:"button",onClick:u},"Cancel"),s("button",{class:"btn btn-primary",type:"button",onClick:y},"Save")])]),_:1},8,["title"])])]))}};export{W as default};
