import{u as b,r as x,z as v,e as y,o as _,f as t,p as g,k as d,l as N,v as S,x as u,y as m}from"./vendor-CDgTUOzk.js";import{S as k}from"./SectionCard-CnFX6nPM.js";import{s as p,u as C,a as T}from"./index-DwkO3c2h.js";const h={class:"row g-3 justify-content-center"},w={class:"col-12 col-lg-8 col-xl-6"},O={class:"row g-3"},V={class:"col-md-8"},B={class:"col-md-4"},M={__name:"TaxForm",setup(J){const i=b(),r=S(),a=i.path.endsWith("/edit"),l=a?i.params.id:null,s=x({id:"",name:"",rate:0});v(()=>{if(a&&l){const o=p.taxes.find(e=>e.id===l);o&&Object.assign(s,JSON.parse(JSON.stringify(o)))}});function c(){r.push("/taxes")}function f(){if(!s.name.trim())return;s.rate<0&&(s.rate=0),s.id||(s.id=C("tax_"));const o=JSON.parse(JSON.stringify(s));T(p.taxes,o),alert("Tax saved"),r.push("/taxes")}return(o,e)=>(_(),y("div",h,[t("div",w,[g(k,{title:N(a)?"Edit Tax":"New Tax"},{actions:d(()=>[t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:c},"Back to list")]),default:d(()=>[t("div",O,[t("div",V,[e[2]||(e[2]=t("label",{class:"form-label"},"Name",-1)),u(t("input",{class:"form-control form-control-sm","onUpdate:modelValue":e[0]||(e[0]=n=>s.name=n),placeholder:"e.g., VAT 15% (Standard)"},null,512),[[m,s.name]])]),t("div",B,[e[3]||(e[3]=t("label",{class:"form-label"},"Rate (%)",-1)),u(t("input",{class:"form-control form-control-sm",type:"number",min:"0",step:"0.01","onUpdate:modelValue":e[1]||(e[1]=n=>s.rate=n)},null,512),[[m,s.rate,void 0,{number:!0}]])])]),t("div",{class:"d-flex justify-content-end gap-2 mt-2"},[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:c},"Cancel"),t("button",{class:"btn btn-primary",type:"button",onClick:f},"Save")])]),_:1},8,["title"])])]))}};export{M as default};
