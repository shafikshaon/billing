import{s as m,b as v,e as r,o as d,f as t,p as w,k as x,v as N,i as $,F as S,h as B,t as l,x as D,y as L}from"./vendor-CDgTUOzk.js";import{S as M}from"./SectionCard-CnFX6nPM.js";import{s as g,r as R}from"./index-DwkO3c2h.js";const V={class:"row g-3"},A={class:"col-12"},P={class:"d-flex gap-2"},T={class:"table-wrapper"},E={class:"table table-sm align-middle"},F={class:"fw-medium"},I={class:"text-end"},Z={class:"btn-group btn-group-sm"},q=["onClick"],z=["onClick"],U={key:0},j={class:"table-footer"},G={class:"small text-muted"},H={class:"btn-group btn-group-sm"},J=["disabled"],K=["disabled"],b=10,Y={__name:"TaxesList",setup(O){const p=N(),u=m(""),i=m(!0),n=m(1),_=v(()=>{const o=u.value.trim().toLowerCase();let e=g.taxes.slice();return o&&(e=e.filter(s=>{var a;return(a=s.name)==null?void 0:a.toLowerCase().includes(o)})),e.sort((s,a)=>{const h=(s.name||"").localeCompare(a.name||"");return i.value?h:-h}),e}),c=v(()=>Math.max(1,Math.ceil(_.value.length/b))),f=v(()=>{const e=(Math.min(n.value,c.value)-1)*b;return _.value.slice(e,e+b)});function C(){p.push("/taxes/new")}function k(o){p.push(`/taxes/${o.id}/edit`)}function y(o){confirm(`Delete tax "${o.name}"?`)&&R(g.taxes,o.id)}return(o,e)=>(d(),r("div",V,[t("div",A,[w(M,{title:"Taxes"},{actions:x(()=>[t("div",P,[D(t("input",{class:"form-control form-control-sm",placeholder:"Search...","onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s)},null,512),[[L,u.value]]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=s=>i.value=!i.value)}," Sort "+l(i.value?"A→Z":"Z→A"),1),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:C},"New")])]),default:x(()=>[t("div",T,[t("table",E,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Rate %"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(d(!0),r(S,null,B(f.value,s=>(d(),r("tr",{key:s.id},[t("td",F,l(s.name),1),t("td",null,l(s.rate),1),t("td",I,[t("div",Z,[t("button",{class:"btn btn-outline-secondary",onClick:a=>k(s)},"Edit",8,q),t("button",{class:"btn btn-outline-danger",onClick:a=>y(s)},"Delete",8,z)])])]))),128)),f.value.length===0?(d(),r("tr",U,[...e[4]||(e[4]=[t("td",{colspan:"3",class:"text-muted"},"No taxes found.",-1)])])):$("",!0)])])]),t("div",j,[t("div",G,"Page "+l(n.value)+" of "+l(c.value),1),t("div",H,[t("button",{class:"btn btn-outline-secondary",disabled:n.value<=1,onClick:e[2]||(e[2]=s=>n.value--)},"Prev",8,J),t("button",{class:"btn btn-outline-secondary",disabled:n.value>=c.value,onClick:e[3]||(e[3]=s=>n.value++)},"Next",8,K)])])]),_:1})])]))}};export{Y as default};
