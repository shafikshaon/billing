import{v as T,b,d as c,e as i,o as r,f as t,p as $,l as w,j as L,t as n,F as C,g as A,x as B,y as D}from"./vendor-iuljl24U.js";import{S as M}from"./SectionCard-Cl3nWDUi.js";import{s as k,r as P}from"./index-FBZ1k241.js";const V={class:"row g-3"},E={class:"col-12"},R={class:"d-flex gap-2"},j={class:"search-bar"},F={key:0,class:"empty-state"},I={class:"empty-state-title"},Q={class:"empty-state-description"},Z={key:0,class:"empty-state-action"},q={class:"table-wrapper"},z={class:"table table-sm align-middle"},G={class:"fw-medium"},U={class:"text-truncate",style:{"max-width":"560px"}},H={class:"text-end"},J={class:"btn-group btn-group-sm"},K=["onClick"],O=["onClick"],W={class:"table-footer"},X={class:"small text-muted"},Y={class:"btn-group btn-group-sm"},tt=["disabled"],et=["disabled"],_=8,lt={__name:"TermsTemplatesList",setup(st){const h=T(),u=b(""),m=b(!0),a=b(1),y=c(()=>{const o=u.value.trim().toLowerCase();let e=k.termsTemplates.slice();return o&&(e=e.filter(s=>{var l,d;return((l=s.name)==null?void 0:l.toLowerCase().includes(o))||((d=s.content)==null?void 0:d.toLowerCase().includes(o))})),e.sort((s,l)=>{const d=(s.name||"").localeCompare(l.name||"");return m.value?d:-d}),e}),p=c(()=>Math.max(1,Math.ceil(y.value.length/_))),f=c(()=>{const e=(Math.min(a.value,p.value)-1)*_;return y.value.slice(e,e+_)}),v=c(()=>u.value.trim().length>0),x=c(()=>f.value.length===0);function g(){h.push("/terms-conditions/new")}function N(o){h.push(`/terms-conditions/${o.id}/edit`)}function S(o){confirm(`Delete template "${o.name}"?`)&&P(k.termsTemplates,o.id)}return(o,e)=>(r(),i("div",V,[t("div",E,[$(M,{title:"Terms & Conditions"},{actions:w(()=>[t("div",R,[t("div",j,[e[4]||(e[4]=t("span",{class:"search-icon"},"ðŸ”",-1)),B(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),class:"form-control form-control-sm",placeholder:"Search templates..."},null,512),[[D,u.value]])]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=s=>m.value=!m.value)}," Sort "+n(m.value?"Aâ†’Z":"Zâ†’A"),1),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:g},"New")])]),default:w(()=>[x.value?(r(),i("div",F,[e[5]||(e[5]=t("div",{class:"empty-state-icon"},"ðŸ“„",-1)),t("div",I,n(v.value?"No templates found":"No templates yet"),1),t("div",Q,n(v.value?"Try adjusting your search to find what you're looking for.":"Get started by adding your first terms & conditions template to include in invoices."),1),v.value?L("",!0):(r(),i("div",Z,[t("button",{class:"btn btn-primary",onClick:g}," Add Template ")]))])):(r(),i(C,{key:1},[t("div",q,[t("table",z,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Preview"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(r(!0),i(C,null,A(f.value,s=>(r(),i("tr",{key:s.id},[t("td",G,n(s.name),1),t("td",U,n(s.content),1),t("td",H,[t("div",J,[t("button",{class:"btn btn-outline-secondary",onClick:l=>N(s)},"Edit",8,K),t("button",{class:"btn btn-outline-danger",onClick:l=>S(s)},"Delete",8,O)])])]))),128))])])]),t("div",W,[t("div",X,"Page "+n(a.value)+" of "+n(p.value),1),t("div",Y,[t("button",{class:"btn btn-outline-secondary",disabled:a.value<=1,onClick:e[2]||(e[2]=s=>a.value--)},"Prev",8,tt),t("button",{class:"btn btn-outline-secondary",disabled:a.value>=p.value,onClick:e[3]||(e[3]=s=>a.value++)},"Next",8,et)])])],64))]),_:1})])]))}};export{lt as default};
