import{u as V,s as x,r as g,z as S,d as _,o as N,e as s,p as r,l as f,x as a,A as h,t as C,y as d,m as M}from"./vendor-CJczNIjx.js";import{S as k}from"./SectionCard-C9PBNAnP.js";import{_ as U,a as w}from"./ContactListEditor-BdwiXAu9.js";import{s as y,u as I,a as T,b as O}from"./index-CYiN_h_V.js";const A={class:"row g-3 justify-content-center"},B={class:"col-12 col-lg-8 col-xl-6"},D={class:"row g-3"},E={class:"col-md-4"},J={class:"col-md-8"},j={class:"form-label"},F={class:"col-md-6"},R={class:"col-12"},$={class:"col-12"},q={class:"col-12"},G={__name:"MerchantForm",setup(z){const i=V(),c=x(),m=O(),l=i.path.endsWith("/edit"),u=l?i.params.id:null,e=g({id:"",type:"company",name:"",taxId:"",addresses:[],contacts:[],notes:""});S(()=>{if(l&&u){const n=y.merchants.find(t=>t.id===u);n&&Object.assign(e,JSON.parse(JSON.stringify(n)))}});function b(){var n;return(n=e.name)!=null&&n.trim()?!0:(m.error("Validation Error","Merchant name is required"),!1)}function p(){c.push("/merchants")}function v(){if(!b())return;e.id||(e.id=I("mrc_"));const n=JSON.parse(JSON.stringify(e));T(y.merchants,n),m.success("Saved","Merchant saved successfully"),c.push("/merchants")}return(n,t)=>(N(),_("div",A,[s("div",B,[r(k,{title:M(l)?"Edit Merchant":"New Merchant"},{actions:f(()=>[s("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:p},"Back to list")]),default:f(()=>[s("div",D,[s("div",E,[t[7]||(t[7]=s("label",{class:"form-label"},"Type",-1)),a(s("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[0]||(t[0]=o=>e.type=o)},[...t[6]||(t[6]=[s("option",{value:"company"},"Company",-1),s("option",{value:"person"},"Person",-1)])],512),[[h,e.type]])]),s("div",J,[s("label",j,C(e.type==="company"?"Company Name":"Full Name"),1),a(s("input",{class:"form-control form-control-sm","onUpdate:modelValue":t[1]||(t[1]=o=>e.name=o),placeholder:"e.g., Dhaka Tech Ltd."},null,512),[[d,e.name]])]),s("div",F,[t[8]||(t[8]=s("label",{class:"form-label"},"VAT / TAX ID",-1)),a(s("input",{class:"form-control form-control-sm","onUpdate:modelValue":t[2]||(t[2]=o=>e.taxId=o),placeholder:"e.g., US-12-3456789"},null,512),[[d,e.taxId]])]),s("div",R,[t[9]||(t[9]=s("label",{class:"form-label"},"Notes",-1)),a(s("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":t[3]||(t[3]=o=>e.notes=o),placeholder:"Internal notes (optional)"},null,512),[[d,e.notes]])]),s("div",$,[t[10]||(t[10]=s("h6",{class:"text-secondary"},"Addresses",-1)),r(U,{modelValue:e.addresses,"onUpdate:modelValue":t[4]||(t[4]=o=>e.addresses=o)},null,8,["modelValue"])]),s("div",q,[t[11]||(t[11]=s("h6",{class:"text-secondary"},"Contacts",-1)),r(w,{modelValue:e.contacts,"onUpdate:modelValue":t[5]||(t[5]=o=>e.contacts=o)},null,8,["modelValue"])])]),s("div",{class:"d-flex justify-content-end gap-2 mt-2"},[s("button",{class:"btn btn-outline-secondary",type:"button",onClick:p},"Cancel"),s("button",{class:"btn btn-primary",type:"button",onClick:v},"Save")])]),_:1},8,["title"])])]))}};export{G as default};
