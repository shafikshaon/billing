var R=(X,M,h)=>new Promise((j,I)=>{var o=_=>{try{b(h.next(_))}catch(T){I(T)}},z=_=>{try{b(h.throw(_))}catch(T){I(T)}},b=_=>_.done?j(_.value):Promise.resolve(_.value).then(o,z);b((h=h.apply(X,M)).next())});import{s as it,r as at,b as f,u as rt,z as ut,w as E,e as l,o as i,f as e,p as L,k as Z,v as ct,x as y,y as J,A as C,F as k,h as S,t as d,l as A,i as p,B as $}from"./vendor-CDgTUOzk.js";import{S as tt}from"./SectionCard-Emg7MEbk.js";import{_ as mt}from"./LineItemsEditor-UcEpNX9l.js";import{s as v,u as et,a as pt}from"./index-DuACpEyu.js";const vt={class:"row g-3"},ft={class:"col-lg-6"},bt={class:"row g-3"},xt={class:"col-md-4"},yt={class:"d-flex gap-2"},It={class:"col-md-4"},gt={class:"col-md-4"},ht={class:"col-md-12"},_t=["value"],wt={class:"col-md-6"},Ct=["disabled"],Nt=["value"],kt={key:0,class:"row g-2 mt-1"},St={class:"col-7"},At=["value"],Tt={class:"col-5"},Vt=["value"],Dt={class:"col-md-6"},Ft=["disabled"],Pt=["value"],$t={key:0,class:"row g-2 mt-1"},Ut={class:"col-7"},Mt=["value"],jt={class:"col-5"},zt=["value"],qt={class:"col-md-12"},Ot={class:"col-12"},Bt={class:"col-12"},Rt={class:"form-sticky-actions mt-3"},Et={class:"d-flex flex-wrap align-items-center justify-content-between gap-2 p-2"},Lt={class:"d-flex align-items-center gap-2 flex-wrap"},Jt={class:"badge"},Xt={class:"badge"},Ht={class:"badge"},Qt={class:"col-lg-6"},Gt={class:"invoice-header d-flex justify-content-between align-items-start border-bottom pb-2 mb-3"},Wt={class:"invoice-brand"},Kt={key:0},Yt={key:1},Zt={key:2,class:"text-muted small"},te={key:3},ee={key:4,class:"text-muted small"},se={key:0},oe={key:1},ne={class:"text-end"},de={key:0},le={class:"mb-2 info-block"},ie={class:"fw-semibold"},ae={key:0},re={key:1,class:"text-muted small"},ue={key:2,class:"text-muted small"},ce={key:3,class:"text-muted small"},me={key:0},pe={key:1},ve={class:"table table-sm table-invoice align-middle mt-2"},fe={class:"fw-medium"},be={key:0,class:"text-muted small"},xe={class:"text-end"},ye={class:"text-end"},Ie={class:"text-end"},ge={key:0},he={key:1},_e={key:2},we={class:"text-end"},Ce={key:0},Ne={class:"mt-2 d-flex"},ke={class:"totals-card"},Se={class:"line"},Ae={class:"line"},Te={class:"line grand"},Ve={key:0,class:"mt-2"},De={style:{"white-space":"pre-wrap"}},je={__name:"CreditNotes",setup(X){const M=()=>new Date().toISOString().slice(0,10),h=rt(),j=ct(),I=it(null),o=at({id:"",number:"",date:M(),merchantId:"",merchantAddressId:"",merchantContactId:"",customerId:"",customerAddressId:"",customerContactId:"",originalInvoiceId:"",reason:"",status:"draft",notes:"",currency:"BDT",items:[]}),z=f(()=>!!h.params.id);ut(()=>{if(h.params.id){const n=(v.creditNotes||[]).find(t=>t.id===h.params.id);n&&Object.assign(o,JSON.parse(JSON.stringify(n)))}else h.query.invoiceId&&(o.originalInvoiceId=String(h.query.invoiceId||""));o.originalInvoiceId&&(!o.merchantId||!o.customerId)&&K()});const b=f(()=>v.merchants.find(n=>n.id===o.merchantId)),_=f(()=>{var n;return((n=b.value)==null?void 0:n.addresses)||[]}),T=f(()=>{var n;return((n=b.value)==null?void 0:n.contacts)||[]}),U=f(()=>_.value.find(n=>n.id===o.merchantAddressId)),V=f(()=>T.value.find(n=>n.id===o.merchantContactId)),N=f(()=>v.customers.find(n=>n.id===o.customerId)),H=f(()=>{var n;return((n=N.value)==null?void 0:n.addresses)||[]}),Q=f(()=>{var n;return((n=N.value)==null?void 0:n.contacts)||[]}),q=f(()=>H.value.find(n=>n.id===o.customerAddressId)),D=f(()=>Q.value.find(n=>n.id===o.customerContactId)),st=f(()=>v.invoices.slice().sort((n,t)=>(n.number||"").localeCompare(t.number||""))),F=f(()=>v.invoices.find(n=>n.id===o.originalInvoiceId));function G(){var t,s,c,m,x,g,u,a;const n=b.value;n&&(o.merchantAddressId=((s=(t=n.addresses)==null?void 0:t.find(r=>r.type==="primary"))==null?void 0:s.id)||((m=(c=n.addresses)==null?void 0:c[0])==null?void 0:m.id)||"",o.merchantContactId=((g=(x=n.contacts)==null?void 0:x.find(r=>r.type==="primary"))==null?void 0:g.id)||((a=(u=n.contacts)==null?void 0:u[0])==null?void 0:a.id)||"")}function W(){var t,s,c,m,x,g,u,a;const n=N.value;n&&(o.customerAddressId=((s=(t=n.addresses)==null?void 0:t.find(r=>r.type==="primary"))==null?void 0:s.id)||((m=(c=n.addresses)==null?void 0:c[0])==null?void 0:m.id)||"",o.customerContactId=((g=(x=n.contacts)==null?void 0:x.find(r=>r.type==="primary"))==null?void 0:g.id)||((a=(u=n.contacts)==null?void 0:u[0])==null?void 0:a.id)||"")}E(()=>o.merchantId,()=>G()),E(()=>o.customerId,()=>W()),E(()=>o.originalInvoiceId,()=>K());function K(){const n=F.value;n&&(o.merchantId=n.merchantId||o.merchantId,o.customerId=n.customerId||o.customerId,o.merchantAddressId=n.merchantAddressId||o.merchantAddressId,o.merchantContactId=n.merchantContactId||o.merchantContactId,o.customerAddressId=n.customerAddressId||o.customerAddressId,o.customerContactId=n.customerContactId||o.customerContactId,(!o.merchantAddressId||!o.merchantContactId)&&G(),(!o.customerAddressId||!o.customerContactId)&&W(),o.items=(n.items||[]).map(t=>({id:et("cnli_"),productId:t.productId,description:t.description,qty:t.qty,unitPrice:Number(t.unitPrice||0),discountType:t.discountType||"none",discountValue:Number(t.discountValue||0),taxId:t.taxId||""})))}function O(n){const t=(Number(n.qty)||0)*(Number(n.unitPrice)||0),s=n.discountType||"none",c=Number(n.discountValue)||0,m=s==="percent"?t*c/100:s==="fixed"?(Number(n.qty)||0)*c:0;return Math.max(0,t-m)}const w=f(()=>{let n=0,t=0;for(const s of o.items||[]){const c=O(s);n+=c;const m=v.taxes.find(x=>x.id===s.taxId);m&&(t+=c*(Number(m.rate)||0)/100)}return{sub:n,tax:t,total:n+t}});function Y(){var m;const n=((m=v.settings)==null?void 0:m.creditNote)||{},t=Number(n.nextNumber||1),s=Math.max(0,Number(n.zeroPad||0)),c=n.prefix||"CN-";o.number=`${c}${String(t).padStart(s,"0")}`,n.nextNumber=t+1}function ot(){return typeof window!="undefined"?window:null}function nt(){const n=ot();if(!n||!(I!=null&&I.value))return;const t=I.value.outerHTML,s=n.open("","_blank","noopener,noreferrer");s&&(s.document.write(`
    <html>
      <head>
        <meta charset="utf-8"/>
        <title>${o.number||"Credit Note"}</title>
        <link rel="stylesheet" href="https://bootswatch.com/5/pulse/bootstrap.min.css"/>
        <style>
          @page { size: A4; margin: 10mm; }
          body { background:#fff; -webkit-print-color-adjust: exact; print-color-adjust: exact; margin: 0; }
          .print-area { width: 190mm; margin: 0 auto; padding: 10mm; border: none; }
          .print-area h4 { font-size: 20px; color: #4a148c; }
          .print-area table { font-size: 12px; }
        </style>
      </head>
      <body>
        ${t}
        <script>
          window.addEventListener('load', function(){
            setTimeout(function(){
              try { window.focus(); window.print(); } finally { window.close(); }
            }, 150);
          });
        <\/script>
      </body>
    </html>
  `),s.document.close())}function dt(){return R(this,null,function*(){var x,g;if(!(I!=null&&I.value))return;function n(){return R(this,null,function*(){return window.pdfMake||(yield new Promise((u,a)=>{const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/pdfmake@0.2.10/build/pdfmake.min.js",r.onload=u,r.onerror=a,document.body.appendChild(r)}),yield new Promise((u,a)=>{const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/pdfmake@0.2.10/build/vfs_fonts.min.js",r.onload=u,r.onerror=a,document.body.appendChild(r)})),window.pdfMake})}yield n();const t=b.value,s=N.value,c=[[{text:"Product / Description",bold:!0},{text:"Qty",alignment:"right",bold:!0},{text:"Unit",alignment:"right",bold:!0},{text:"Discount",alignment:"right",bold:!0},{text:"Line",alignment:"right",bold:!0}],...(o.items||[]).map(u=>{var a;return[((a=v.products.find(r=>r.id===u.productId))==null?void 0:a.name)||u.description||"—",{text:String(u.qty||0),alignment:"right"},{text:Number(u.unitPrice||0).toFixed(2),alignment:"right"},{text:(u.discountType||"none")==="percent"?"-"+Number(u.discountValue||0).toFixed(0)+"%":(u.discountType||"none")==="fixed"?"- "+(Number(u.discountValue||0)*Number(u.qty||0)).toFixed(2):"—",alignment:"right"},{text:O(u).toFixed(2),alignment:"right"}]})],m={pageSize:"A4",pageMargins:[28,28,28,28],content:[{columns:[[{text:(t==null?void 0:t.name)||"",bold:!0},{text:(x=t==null?void 0:t.addresses)!=null&&x.length?`${t.addresses[0].line1}, ${t.addresses[0].city}`:""},t!=null&&t.taxId?{text:`VAT/TAX ID: ${t.taxId}`,color:"#6c757d",fontSize:9}:{}],[{text:"Credit Note",style:"title",alignment:"right"},{text:`No: ${o.number||""}`,bold:!0,alignment:"right"},{text:`Date: ${o.date||""}`,alignment:"right"},F.value?{text:`Ref Invoice: ${F.value.number}`,alignment:"right"}:{}]]},{text:" ",margin:[0,6]},{text:"Bill To",bold:!0},{text:(s==null?void 0:s.name)||""},{text:(g=s==null?void 0:s.addresses)!=null&&g.length?`${s.addresses[0].line1}, ${s.addresses[0].city}`:""},o.reason?{text:`Reason: ${o.reason}`,margin:[0,6,0,0]}:{},{table:{headerRows:1,widths:["*",40,50,55,60],body:c},layout:"lightHorizontalLines",margin:[0,6,0,0]},{columns:[{text:" "},{width:180,alignment:"right",stack:[{text:`Subtotal: ${w.value.sub.toFixed(2)}`},{text:`Tax: ${w.value.tax.toFixed(2)}`},{text:`Total Credit: ${w.value.total.toFixed(2)}`,bold:!0}]}],margin:[0,8,0,0]}],footer:(u,a)=>{var r,P;return{margin:[28,8,28,16],fontSize:9,text:((P=(r=v.settings)==null?void 0:r.creditNote)==null?void 0:P.footerText)||""}},styles:{title:{fontSize:18,color:"#4a148c",bold:!0}},defaultStyle:{fontSize:10}};window.pdfMake.createPdf(m).download(`credit_note_${o.number||"edit"}.pdf`)})}function lt(){var t,s;o.id||(o.id=et("cn_")),!o.number&&((s=(t=v.settings)==null?void 0:t.creditNote)!=null&&s.autoNumberOnSave)&&Y();const n=JSON.parse(JSON.stringify(o));pt(v.creditNotes,n,"id"),j.push(`/credit-notes/${o.id}`)}return(n,t)=>(i(),l("div",vt,[e("div",ft,[L(tt,{title:z.value?"Edit Credit Note":"Create Credit Note"},{default:Z(()=>[e("div",bt,[t[31]||(t[31]=e("div",{class:"col-12"},[e("div",{class:"subsection-title"},"Credit Note Info")],-1)),e("div",xt,[t[13]||(t[13]=e("label",{class:"form-label"},"Credit Note Number",-1)),e("div",yt,[y(e("input",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>o.number=s),placeholder:"e.g., CN-0001"},null,512),[[J,o.number]]),e("button",{class:"btn btn-outline-secondary",type:"button",onClick:Y},"Auto")])]),e("div",It,[t[14]||(t[14]=e("label",{class:"form-label"},"Date",-1)),y(e("input",{class:"form-control",type:"date","onUpdate:modelValue":t[1]||(t[1]=s=>o.date=s)},null,512),[[J,o.date]])]),e("div",gt,[t[16]||(t[16]=e("label",{class:"form-label"},"Status",-1)),y(e("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=s=>o.status=s)},[...t[15]||(t[15]=[e("option",{value:"draft"},"Draft",-1),e("option",{value:"issued"},"Issued",-1),e("option",{value:"applied"},"Applied",-1),e("option",{value:"voided"},"Voided",-1)])],512),[[C,o.status]])]),t[32]||(t[32]=e("div",{class:"col-12"},[e("div",{class:"subsection-title mt-1"},"Reference Invoice")],-1)),e("div",ht,[t[18]||(t[18]=e("label",{class:"form-label"},"Original Invoice",-1)),y(e("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=s=>o.originalInvoiceId=s)},[t[17]||(t[17]=e("option",{value:""},"—",-1)),(i(!0),l(k,null,S(st.value,s=>{var c;return i(),l("option",{key:s.id,value:s.id},d(s.number)+" — "+d(s.date)+" — "+d((c=A(v).customers.find(m=>m.id===s.customerId))==null?void 0:c.name),9,_t)}),128))],512),[[C,o.originalInvoiceId]]),t[19]||(t[19]=e("div",{class:"form-text"},"Selecting an invoice will auto-fill parties and items (adjust as needed).",-1))]),t[33]||(t[33]=e("div",{class:"col-12"},[e("div",{class:"subsection-title mt-1"},"Parties")],-1)),e("div",wt,[t[23]||(t[23]=e("label",{class:"form-label"},"Merchant",-1)),y(e("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=s=>o.merchantId=s),disabled:!!o.originalInvoiceId},[t[20]||(t[20]=e("option",{value:""},"Select merchant",-1)),(i(!0),l(k,null,S(A(v).merchants,s=>(i(),l("option",{key:s.id,value:s.id},d(s.name),9,Nt))),128))],8,Ct),[[C,o.merchantId]]),b.value?(i(),l("div",kt,[e("div",St,[t[21]||(t[21]=e("label",{class:"form-label small mb-1"},"Address",-1)),y(e("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[5]||(t[5]=s=>o.merchantAddressId=s)},[(i(!0),l(k,null,S(_.value,s=>(i(),l("option",{key:s.id,value:s.id},d(s.type)+" — "+d(s.city),9,At))),128))],512),[[C,o.merchantAddressId]])]),e("div",Tt,[t[22]||(t[22]=e("label",{class:"form-label small mb-1"},"Contact",-1)),y(e("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[6]||(t[6]=s=>o.merchantContactId=s)},[(i(!0),l(k,null,S(T.value,s=>(i(),l("option",{key:s.id,value:s.id},d(s.type)+" — "+d(s.name),9,Vt))),128))],512),[[C,o.merchantContactId]])])])):p("",!0)]),e("div",Dt,[t[27]||(t[27]=e("label",{class:"form-label"},"Customer",-1)),y(e("select",{class:"form-select","onUpdate:modelValue":t[7]||(t[7]=s=>o.customerId=s),disabled:!!o.originalInvoiceId},[t[24]||(t[24]=e("option",{value:""},"Select customer",-1)),(i(!0),l(k,null,S(A(v).customers,s=>(i(),l("option",{key:s.id,value:s.id},d(s.name),9,Pt))),128))],8,Ft),[[C,o.customerId]]),N.value?(i(),l("div",$t,[e("div",Ut,[t[25]||(t[25]=e("label",{class:"form-label small mb-1"},"Address",-1)),y(e("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[8]||(t[8]=s=>o.customerAddressId=s)},[(i(!0),l(k,null,S(H.value,s=>(i(),l("option",{key:s.id,value:s.id},d(s.type)+" — "+d(s.city),9,Mt))),128))],512),[[C,o.customerAddressId]])]),e("div",jt,[t[26]||(t[26]=e("label",{class:"form-label small mb-1"},"Contact",-1)),y(e("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[9]||(t[9]=s=>o.customerContactId=s)},[(i(!0),l(k,null,S(Q.value,s=>(i(),l("option",{key:s.id,value:s.id},d(s.type)+" — "+d(s.name),9,zt))),128))],512),[[C,o.customerContactId]])])])):p("",!0)]),e("div",qt,[t[29]||(t[29]=e("label",{class:"form-label"},"Reason",-1)),y(e("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=s=>o.reason=s)},[...t[28]||(t[28]=[e("option",{value:""},"—",-1),e("option",null,"Goods returned (within 7 days)",-1),e("option",null,"Damaged goods (Sundarban transit)",-1),e("option",null,"Pricing adjustment",-1),e("option",null,"Promotional discount",-1),e("option",null,"Service cancellation",-1),e("option",null,"Advance refund",-1)])],512),[[C,o.reason]])]),t[34]||(t[34]=e("div",{class:"col-12"},[e("div",{class:"subsection-title mt-2"},"Items & Notes")],-1)),e("div",Ot,[L(mt,{items:o.items,products:A(v).products,taxes:A(v).taxes,onUpdate:t[11]||(t[11]=s=>o.items=s)},null,8,["items","products","taxes"])]),e("div",Bt,[t[30]||(t[30]=e("label",{class:"form-label"},"Notes",-1)),y(e("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":t[12]||(t[12]=s=>o.notes=s),placeholder:"Optional notes to show on credit note"},null,512),[[J,o.notes]])])]),e("div",Rt,[e("div",Et,[e("div",Lt,[e("span",Jt,"Subtotal: "+d(w.value.sub.toFixed(2)),1),e("span",Xt,"Tax: "+d(w.value.tax.toFixed(2)),1),e("span",Ht,"Total Credit: "+d(w.value.total.toFixed(2)),1)]),e("div",{class:"d-flex gap-2"},[e("button",{class:"btn btn-outline-secondary",type:"button",onClick:nt},"Print"),e("button",{class:"btn btn-primary",type:"button",onClick:dt},"Download PDF"),e("button",{class:"btn btn-success",type:"button",onClick:lt},"Save")])])])]),_:1},8,["title"])]),e("div",Qt,[L(tt,{title:"Preview"},{default:Z(()=>{var s,c,m,x,g,u;return[e("div",{class:"print-area",ref_key:"printRef",ref:I},[e("div",Gt,[e("div",Wt,[e("strong",null,d(((s=b.value)==null?void 0:s.name)||"Select Merchant"),1),t[35]||(t[35]=e("br",null,null,-1)),U.value?(i(),l("span",Kt,d(U.value.line1)+", "+d(U.value.city),1)):p("",!0),U.value?(i(),l("br",Yt)):p("",!0),(c=b.value)!=null&&c.taxId?(i(),l("span",Zt,"VAT/TAX ID: "+d(b.value.taxId),1)):p("",!0),(m=b.value)!=null&&m.taxId?(i(),l("br",te)):p("",!0),V.value?(i(),l("span",ee,[$(d(V.value.name),1),V.value.email?(i(),l("span",se," · "+d(V.value.email),1)):p("",!0),V.value.phone?(i(),l("span",oe," · "+d(V.value.phone),1)):p("",!0)])):p("",!0)]),e("div",ne,[t[39]||(t[39]=e("h4",{class:"mb-1"},"Credit Note",-1)),e("div",null,[t[36]||(t[36]=e("span",{class:"text-muted"},"No:",-1)),$(" "+d(o.number||"(not set)"),1)]),e("div",null,[t[37]||(t[37]=e("span",{class:"text-muted"},"Date:",-1)),$(" "+d(o.date),1)]),F.value?(i(),l("div",de,[t[38]||(t[38]=e("span",{class:"text-muted"},"Ref Invoice:",-1)),$(" "+d((x=F.value)==null?void 0:x.number),1)])):p("",!0)])]),e("div",le,[t[40]||(t[40]=e("div",{class:"text-uppercase muted-label"},"Bill To",-1)),e("div",ie,d(((g=N.value)==null?void 0:g.name)||"Select Customer"),1),q.value?(i(),l("div",ae,d(q.value.line1)+", "+d(q.value.city),1)):p("",!0),(u=N.value)!=null&&u.taxId?(i(),l("div",re,"VAT/TAX ID: "+d(N.value.taxId),1)):p("",!0),o.reason?(i(),l("div",ue,"Reason: "+d(o.reason),1)):p("",!0),D.value?(i(),l("div",ce,[$(d(D.value.name),1),D.value.email?(i(),l("span",me," · "+d(D.value.email),1)):p("",!0),D.value.phone?(i(),l("span",pe," · "+d(D.value.phone),1)):p("",!0)])):p("",!0)]),e("table",ve,[t[42]||(t[42]=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"Product / Description"),e("th",{class:"text-end"},"Qty"),e("th",{class:"text-end"},"Unit"),e("th",{class:"text-end"},"Discount"),e("th",{class:"text-end"},"Line")])],-1)),e("tbody",null,[(i(!0),l(k,null,S(o.items,a=>{var r,P;return i(),l("tr",{key:a.id},[e("td",null,[e("div",fe,d(((r=A(v).products.find(B=>B.id===a.productId))==null?void 0:r.name)||a.description||"—"),1),a.description&&((P=A(v).products.find(B=>B.id===a.productId))==null?void 0:P.name)!==a.description?(i(),l("div",be,d(a.description),1)):p("",!0)]),e("td",xe,d(a.qty),1),e("td",ye,d(Number(a.unitPrice||0).toFixed(2)),1),e("td",Ie,[(a.discountType||"none")==="percent"?(i(),l("span",ge,"-"+d(Number(a.discountValue||0).toFixed(0))+"%",1)):(a.discountType||"none")==="fixed"?(i(),l("span",he,"-"+d((Number(a.discountValue||0)*Number(a.qty||0)).toFixed(2)),1)):(i(),l("span",_e,"—"))]),e("td",we,d(O(a).toFixed(2)),1)])}),128)),o.items.length===0?(i(),l("tr",Ce,[...t[41]||(t[41]=[e("td",{colspan:"5",class:"text-muted"},"No items",-1)])])):p("",!0)])]),e("div",Ne,[t[46]||(t[46]=e("div",{class:"flex-grow-1"},null,-1)),e("div",ke,[e("div",Se,[t[43]||(t[43]=e("span",null,"Subtotal",-1)),e("span",null,d(w.value.sub.toFixed(2)),1)]),e("div",Ae,[t[44]||(t[44]=e("span",null,"Tax",-1)),e("span",null,d(w.value.tax.toFixed(2)),1)]),e("div",Te,[t[45]||(t[45]=e("span",null,"Total Credit",-1)),e("span",null,d(w.value.total.toFixed(2)),1)])])]),o.notes?(i(),l("div",Ve,[t[47]||(t[47]=e("strong",null,"Notes",-1)),e("div",De,d(o.notes),1)])):p("",!0)],512)]}),_:1})])]))}};export{je as default};
