import{s as m,b as h,e as i,o as d,f as t,p as w,k as f,v as N,i as M,F as S,h as D,t as o,x as $,y as F}from"./vendor-CDgTUOzk.js";import{S as L}from"./SectionCard-CnFX6nPM.js";import{s as x,r as A}from"./index-DwkO3c2h.js";const B={class:"row g-3"},R={class:"col-12"},V={class:"d-flex gap-2"},P={class:"table-wrapper"},T={class:"table table-sm align-middle"},z={class:"fw-medium"},E={class:"text-capitalize"},I={key:0},Z={key:1},q={class:"text-end"},O={class:"btn-group btn-group-sm"},U=["onClick"],Y=["onClick"],j={key:0},G={class:"table-footer"},H={class:"small text-muted"},J={class:"btn-group btn-group-sm"},K=["disabled"],Q=["disabled"],b=10,st={__name:"ShippingMethodsList",setup(W){const v=N(),c=m(""),u=m(!0),l=m(1),_=h(()=>{const n=c.value.trim().toLowerCase();let s=x.shippingMethods.slice();return n&&(s=s.filter(e=>{var a,r;return((a=e.name)==null?void 0:a.toLowerCase().includes(n))||((r=e.provider)==null?void 0:r.toLowerCase().includes(n))})),s.sort((e,a)=>{const r=(e.name||"").localeCompare(a.name||"");return u.value?r:-r}),s}),p=h(()=>Math.max(1,Math.ceil(_.value.length/b))),g=h(()=>{const s=(Math.min(l.value,p.value)-1)*b;return _.value.slice(s,s+b)});function y(){v.push("/shipping/new")}function C(n){v.push(`/shipping/${n.id}/edit`)}function k(n){confirm(`Delete shipping method "${n.name}"?`)&&A(x.shippingMethods,n.id)}return(n,s)=>(d(),i("div",B,[t("div",R,[w(L,{title:"Shipping Methods"},{actions:f(()=>[t("div",V,[$(t("input",{class:"form-control form-control-sm",placeholder:"Search...","onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e)},null,512),[[F,c.value]]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:s[1]||(s[1]=e=>u.value=!u.value)}," Sort "+o(u.value?"A→Z":"Z→A"),1),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:y},"New")])]),default:f(()=>[t("div",P,[t("table",T,[s[5]||(s[5]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Region"),t("th",null,"Charge"),t("th",null,"Free ≥"),t("th",null,"Lead time"),t("th",null,"COD"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(d(!0),i(S,null,D(g.value,e=>(d(),i("tr",{key:e.id},[t("td",z,o(e.name),1),t("td",E,o(e.region.replace("_"," ")),1),t("td",null,[e.chargeType==="fixed"?(d(),i("span",I,"৳"+o(Number(e.amount).toFixed(0)),1)):(d(),i("span",Z,o(Number(e.amount).toFixed(1))+"%",1))]),t("td",null,"৳"+o(Number(e.freeThreshold||0).toFixed(0)),1),t("td",null,o(e.leadDaysMin)+"–"+o(e.leadDaysMax)+" d",1),t("td",null,o(e.codAvailable?"Yes":"No"),1),t("td",q,[t("div",O,[t("button",{class:"btn btn-outline-secondary",onClick:a=>C(e)},"Edit",8,U),t("button",{class:"btn btn-outline-danger",onClick:a=>k(e)},"Delete",8,Y)])])]))),128)),g.value.length===0?(d(),i("tr",j,[...s[4]||(s[4]=[t("td",{colspan:"7",class:"text-muted"},"No shipping methods found.",-1)])])):M("",!0)])])]),t("div",G,[t("div",H,"Page "+o(l.value)+" of "+o(p.value),1),t("div",J,[t("button",{class:"btn btn-outline-secondary",disabled:l.value<=1,onClick:s[2]||(s[2]=e=>l.value--)},"Prev",8,K),t("button",{class:"btn btn-outline-secondary",disabled:l.value>=p.value,onClick:s[3]||(s[3]=e=>l.value++)},"Next",8,Q)])])]),_:1})])]))}};export{st as default};
