import{_ as h,c as n,o as i,a as t,B as k,f,q as l,F as C,g as x,b as F,t as S,w as U,C as I,r as c,s as K,e as P}from"./index-DREjU6--.js";import{p as V,e as _,f as N,d as y,h as B}from"./bulkImport-CM8Zh-FV.js";const q={name:"BulkImportProducts",setup(){P();const u=c(null),s=c(null),a=c(!1),e=c([]),d=c(0);return{fileInput:u,selectedFile:s,isProcessing:a,errors:e,successCount:d,downloadSampleWithSKU:()=>{const o=B();y("products_sample_with_sku.csv",o)},downloadSampleNoSKU:()=>{const o=N();y("products_sample_no_sku.csv",o)},handleFileSelect:o=>{s.value=o.target.files[0],e.value=[],d.value=0},processFile:async()=>{if(s.value){a.value=!0,e.value=[],d.value=0;try{const o=await V(s.value);if(o.errors&&o.errors.length>0){e.value=o.errors.map(m=>`Parse error: ${m.message}`),a.value=!1;return}const{products:v,errors:b}=_(o.data);if(b.length>0){e.value=b,a.value=!1;return}v.forEach(m=>{K.products.push(m)}),d.value=v.length,u.value&&(u.value.value=""),s.value=null}catch(o){e.value=[`Error processing file: ${o.message}`]}finally{a.value=!1}}}}}},D={class:"container-fluid py-4"},W={class:"row"},E={class:"col-lg-8"},T={class:"card mb-4"},L={class:"card-body"},z={class:"d-flex gap-2 flex-wrap"},Q={class:"card mb-4"},R={class:"card-body"},M={class:"mb-3"},Y=["disabled"],j={key:0},A={key:1},G={key:0,class:"card mb-4 border-danger"},H={class:"card-body"},J={class:"mb-0"},O={key:1,class:"card mb-4 border-success"},X={class:"card-body"},Z={class:"mb-0"};function $(u,s,a,e,d,w){const p=I("router-link");return i(),n("div",D,[s[19]||(s[19]=t("div",{class:"row mb-4"},[t("div",{class:"col"},[t("h2",{class:"mb-3"},"Bulk Import Products"),t("p",{class:"text-muted"}," Import multiple products with inventory tracking from a CSV file ")])],-1)),t("div",W,[t("div",E,[t("div",T,[s[8]||(s[8]=t("div",{class:"card-header bg-primary text-white"},[t("h5",{class:"mb-0"},"Step 1: Download Sample Template")],-1)),t("div",L,[s[6]||(s[6]=t("p",null,"Choose the template that fits your needs:",-1)),t("div",z,[t("button",{onClick:s[0]||(s[0]=(...r)=>e.downloadSampleWithSKU&&e.downloadSampleWithSKU(...r)),class:"btn btn-success"},[...s[4]||(s[4]=[t("i",{class:"bi bi-download"},null,-1),l(" Download Sample with SKUs ",-1)])]),t("button",{onClick:s[1]||(s[1]=(...r)=>e.downloadSampleNoSKU&&e.downloadSampleNoSKU(...r)),class:"btn btn-success"},[...s[5]||(s[5]=[t("i",{class:"bi bi-download"},null,-1),l(" Download Sample without SKUs ",-1)])])]),s[7]||(s[7]=t("div",{class:"alert alert-info mt-3 mb-0"},[t("small",null,[t("strong",null,"With SKUs:"),l(" Best for physical goods with stock keeping units"),t("br"),t("strong",null,"Without SKUs:"),l(" Best for services, consulting, or products without formal SKUs ")])],-1))])]),t("div",Q,[s[12]||(s[12]=t("div",{class:"card-header bg-primary text-white"},[t("h5",{class:"mb-0"},"Step 2: Upload Your CSV File")],-1)),t("div",R,[t("div",M,[s[9]||(s[9]=t("label",{for:"fileInput",class:"form-label"},"Select CSV File",-1)),t("input",{id:"fileInput",ref:"fileInput",type:"file",class:"form-control",accept:".csv",onChange:s[2]||(s[2]=(...r)=>e.handleFileSelect&&e.handleFileSelect(...r))},null,544)]),t("button",{onClick:s[3]||(s[3]=(...r)=>e.processFile&&e.processFile(...r)),disabled:!e.selectedFile||e.isProcessing,class:"btn btn-primary"},[e.isProcessing?(i(),n("span",j,[...s[10]||(s[10]=[t("span",{class:"spinner-border spinner-border-sm me-2"},null,-1),l(" Processing... ",-1)])])):(i(),n("span",A,[...s[11]||(s[11]=[t("i",{class:"bi bi-upload"},null,-1),l(" Process File ",-1)])]))],8,Y)])]),e.errors.length>0?(i(),n("div",G,[s[13]||(s[13]=t("div",{class:"card-header bg-danger text-white"},[t("h5",{class:"mb-0"},"Errors Found")],-1)),t("div",H,[t("ul",J,[(i(!0),n(C,null,x(e.errors,(r,g)=>(i(),n("li",{key:g,class:"text-danger"},S(r),1))),128))])])])):f("",!0),e.successCount>0?(i(),n("div",O,[s[17]||(s[17]=t("div",{class:"card-header bg-success text-white"},[t("h5",{class:"mb-0"},"Import Successful")],-1)),t("div",X,[t("p",Z,[s[14]||(s[14]=l(" Successfully imported ",-1)),t("strong",null,S(e.successCount),1),s[15]||(s[15]=l(" product(s). ",-1))]),F(p,{to:"/products",class:"btn btn-primary mt-3"},{default:U(()=>[...s[16]||(s[16]=[l(" View Products ",-1)])]),_:1})])])):f("",!0)]),s[18]||(s[18]=k('<div class="col-lg-4"><div class="card"><div class="card-header bg-info text-white"><h5 class="mb-0">Instructions</h5></div><div class="card-body"><h6>CSV Format Requirements:</h6><ul class="small"><li><strong>name</strong> (required): Product name</li><li><strong>sku</strong>: Stock Keeping Unit (optional)</li><li><strong>unit</strong>: pcs, ea, units, doz, pair, pack, box, carton, kg, g, lbs, oz, l, m, ft, sq.m, sq.ft, hrs, days, months</li><li><strong>type</strong>: goods, service, digital, rental/lease, subscription, fee, license, consulting, other</li><li><strong>price</strong> (required): Unit price</li><li><strong>discountType</strong>: none, fixed, percent</li><li><strong>discountValue</strong>: Discount amount</li><li><strong>taxId</strong>: Leave empty or use existing tax ID</li><li><strong>active</strong>: true or false</li><li><strong>description</strong>: Product description</li></ul><h6 class="mt-3">Inventory Tracking:</h6><ul class="small"><li><strong>trackInventory</strong>: true or false</li><li><strong>currentStock</strong>: Current stock quantity</li><li><strong>reorderLevel</strong>: Minimum stock before reorder alert</li><li><strong>reorderQuantity</strong>: Quantity to reorder when low</li></ul><div class="alert alert-warning mt-3 mb-0"><small><strong>Note:</strong> Services typically don&#39;t need inventory tracking. Set trackInventory to false for services. </small></div></div></div></div>',1))])])}const es=h(q,[["render",$]]);export{es as default};
