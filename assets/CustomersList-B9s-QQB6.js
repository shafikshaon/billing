import{s as V,v as h,b as c,d as i,o as r,e as t,p as D,l as C,j as I,t as n,F as w,g as L,x as M,y as R}from"./vendor-CJczNIjx.js";import{S as E}from"./SectionCard-C9PBNAnP.js";import{s as x,r as P}from"./index-CYiN_h_V.js";const T={class:"row g-3"},j={class:"col-12"},z={class:"d-flex gap-2"},F={class:"search-bar"},Q={key:0,class:"empty-state"},Z={class:"empty-state-title"},q={class:"empty-state-description"},G={key:0,class:"empty-state-action"},U={class:"table-wrapper"},H={class:"table table-sm align-middle"},J={class:"fw-medium"},K={class:"badge text-bg-secondary text-capitalize"},O={class:"text-end"},W={class:"btn-group btn-group-sm"},X=["onClick"],Y=["onClick"],tt=["onClick"],et={class:"table-footer"},st={class:"small text-muted"},ot={class:"btn-group btn-group-sm"},nt=["disabled"],lt=["disabled"],_=8,ct={__name:"CustomersList",setup(at){const d=V(),m=h(""),b=h(!0),a=h(1),y=c(()=>{const o=m.value.trim().toLowerCase();let e=x.customers.slice();return o&&(e=e.filter(s=>{var l;return(l=s.name)==null?void 0:l.toLowerCase().includes(o)})),e.sort((s,l)=>{const u=(s.name||"").localeCompare(l.name||"");return b.value?u:-u}),e}),p=c(()=>Math.max(1,Math.ceil(y.value.length/_))),g=c(()=>{const e=(Math.min(a.value,p.value)-1)*_;return y.value.slice(e,e+_)}),v=c(()=>m.value.trim().length>0),N=c(()=>g.value.length===0);function f(){d.push("/customers/new")}function $(){d.push("/customers/bulk-import")}function S(o){d.push(`/customers/${o.id}`)}function B(o){d.push(`/customers/${o.id}/edit`)}function A(o){confirm(`Delete customer "${o.name}"?`)&&P(x.customers,o.id)}return(o,e)=>(r(),i("div",T,[t("div",j,[D(E,{title:"Customers"},{actions:C(()=>[t("div",z,[t("div",F,[e[4]||(e[4]=t("span",{class:"search-icon"},"ðŸ”",-1)),M(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s),class:"form-control form-control-sm",placeholder:"Search customers..."},null,512),[[R,m.value]])]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=s=>b.value=!b.value)}," Sort "+n(b.value?"Aâ†’Z":"Zâ†’A"),1),t("button",{class:"btn btn-sm btn-success",type:"button",onClick:$},"Bulk Import"),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:f},"New")])]),default:C(()=>[N.value?(r(),i("div",Q,[e[5]||(e[5]=t("div",{class:"empty-state-icon"},"ðŸ‘¥",-1)),t("div",Z,n(v.value?"No customers found":"No customers yet"),1),t("div",q,n(v.value?"Try adjusting your search to find what you're looking for.":"Get started by adding your first customer to track sales and invoices."),1),v.value?I("",!0):(r(),i("div",G,[t("button",{class:"btn btn-primary",onClick:f}," Add Customer ")]))])):(r(),i(w,{key:1},[t("div",U,[t("table",H,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Type"),t("th",null,"Addresses"),t("th",null,"Contacts"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(r(!0),i(w,null,L(g.value,s=>{var l,u;return r(),i("tr",{key:s.id},[t("td",J,n(s.name),1),t("td",null,[t("span",K,n(s.type),1)]),t("td",null,n(((l=s.addresses)==null?void 0:l.length)||0),1),t("td",null,n(((u=s.contacts)==null?void 0:u.length)||0),1),t("td",O,[t("div",W,[t("button",{class:"btn btn-outline-secondary",onClick:k=>S(s)},"View",8,X),t("button",{class:"btn btn-outline-secondary",onClick:k=>B(s)},"Edit",8,Y),t("button",{class:"btn btn-outline-danger",onClick:k=>A(s)},"Delete",8,tt)])])])}),128))])])]),t("div",et,[t("div",st,"Page "+n(a.value)+" of "+n(p.value),1),t("div",ot,[t("button",{class:"btn btn-outline-secondary",disabled:a.value<=1,onClick:e[2]||(e[2]=s=>a.value--)},"Prev",8,nt),t("button",{class:"btn btn-outline-secondary",disabled:a.value>=p.value,onClick:e[3]||(e[3]=s=>a.value++)},"Next",8,lt)])])],64))]),_:1})])]))}};export{ct as default};
