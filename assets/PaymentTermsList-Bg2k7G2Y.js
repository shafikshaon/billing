import{v as T,b as y,d,e as r,o as i,f as t,p as A,l as k,j as P,t as a,F as C,g as M,x as B,y as D}from"./vendor-iuljl24U.js";import{S as L}from"./SectionCard-Cl3nWDUi.js";import{s as w,r as V}from"./index-FBZ1k241.js";const j={class:"row g-3"},E={class:"col-12"},F={class:"d-flex gap-2"},R={class:"search-bar"},I={key:0,class:"empty-state"},Q={class:"empty-state-title"},Z={class:"empty-state-description"},q={key:0,class:"empty-state-action"},z={class:"table-wrapper"},G={class:"table table-sm align-middle"},O={class:"fw-medium"},U={class:"small text-muted"},Y={class:"text-end"},H={class:"btn-group btn-group-sm"},J=["onClick"],K=["onClick"],W={class:"table-footer"},X={class:"small text-muted"},tt={class:"btn-group btn-group-sm"},et=["disabled"],st=["disabled"],b=8,rt={__name:"PaymentTermsList",setup(nt){const _=T(),c=y(""),u=y(!0),l=y(1),h=d(()=>{const n=c.value.trim().toLowerCase();let e=w.paymentTerms.slice();return n&&(e=e.filter(s=>{var o;return(o=s.name)==null?void 0:o.toLowerCase().includes(n)})),e.sort((s,o)=>{const m=(s.name||"").localeCompare(o.name||"");return u.value?m:-m}),e}),p=d(()=>Math.max(1,Math.ceil(h.value.length/b))),f=d(()=>{const e=(Math.min(l.value,p.value)-1)*b;return h.value.slice(e,e+b)}),v=d(()=>c.value.trim().length>0),x=d(()=>f.value.length===0);function g(){_.push("/payment-terms/new")}function $(n){_.push(`/payment-terms/${n.id}/edit`)}function N(n){confirm(`Delete payment term "${n.name}"?`)&&V(w.paymentTerms,n.id)}function S(n){return(n.schedule||[]).map(s=>{const o=s.valueType==="percent"?`${s.valueAmount}%`:`à§³${Number(s.valueAmount).toFixed(0)}`,m=s.dateType==="days_after"?`${s.days||0}d`:`day ${s.dayOfMonth}`;return`${o}@${m}`}).join(", ")}return(n,e)=>(i(),r("div",j,[t("div",E,[A(L,{title:"Payment Terms"},{actions:k(()=>[t("div",F,[t("div",R,[e[4]||(e[4]=t("span",{class:"search-icon"},"ðŸ”",-1)),B(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),class:"form-control form-control-sm",placeholder:"Search payment terms..."},null,512),[[D,c.value]])]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=s=>u.value=!u.value)}," Sort "+a(u.value?"Aâ†’Z":"Zâ†’A"),1),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:g},"New")])]),default:k(()=>[x.value?(i(),r("div",I,[e[5]||(e[5]=t("div",{class:"empty-state-icon"},"ðŸ“…",-1)),t("div",Q,a(v.value?"No payment terms found":"No payment terms yet"),1),t("div",Z,a(v.value?"Try adjusting your search to find what you're looking for.":"Get started by adding your first payment term to define invoice payment schedules."),1),v.value?P("",!0):(i(),r("div",q,[t("button",{class:"btn btn-primary",onClick:g}," Add Payment Term ")]))])):(i(),r(C,{key:1},[t("div",z,[t("table",G,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Active"),t("th",null,"Schedule"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(i(!0),r(C,null,M(f.value,s=>(i(),r("tr",{key:s.id},[t("td",O,a(s.name),1),t("td",null,a(s.active?"Yes":"No"),1),t("td",U,a(S(s)),1),t("td",Y,[t("div",H,[t("button",{class:"btn btn-outline-secondary",onClick:o=>$(s)},"Edit",8,J),t("button",{class:"btn btn-outline-danger",onClick:o=>N(s)},"Delete",8,K)])])]))),128))])])]),t("div",W,[t("div",X,"Page "+a(l.value)+" of "+a(p.value),1),t("div",tt,[t("button",{class:"btn btn-outline-secondary",disabled:l.value<=1,onClick:e[2]||(e[2]=s=>l.value--)},"Prev",8,et),t("button",{class:"btn btn-outline-secondary",disabled:l.value>=p.value,onClick:e[3]||(e[3]=s=>l.value++)},"Next",8,st)])])],64))]),_:1})])]))}};export{rt as default};
