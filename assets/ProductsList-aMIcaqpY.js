import{s as B,v as y,b as r,d as l,o as a,e as t,p as D,l as C,j as F,t as n,F as w,g as A,m as N,x as L,y as M}from"./vendor-CJczNIjx.js";import{S as R}from"./SectionCard-C9PBNAnP.js";import{s as v,r as E}from"./index-CYiN_h_V.js";const j={class:"row g-3"},z={class:"col-12"},Q={class:"d-flex gap-2"},U={class:"search-bar"},Z={key:0,class:"empty-state"},q={class:"empty-state-title"},G={class:"empty-state-description"},H={key:0,class:"empty-state-action"},J={class:"table-wrapper"},K={class:"table table-sm align-middle"},O={class:"fw-medium"},W={class:"text-uppercase"},X={class:"text-capitalize"},Y={key:0},tt={key:1,class:"text-muted"},et={class:"text-end"},st={class:"btn-group btn-group-sm"},ot=["onClick"],nt=["onClick"],lt=["onClick"],at={class:"table-footer"},it={class:"small text-muted"},ut={class:"btn-group btn-group-sm"},ct=["disabled"],dt=["disabled"],f=10,vt={__name:"ProductsList",setup(rt){const m=B(),p=y(""),b=y(!0),u=y(1),g=r(()=>{const o=p.value.trim().toLowerCase();let e=v.products.slice();return o&&(e=e.filter(s=>{var i;return(i=s.name)==null?void 0:i.toLowerCase().includes(o)})),e.sort((s,i)=>{const d=(s.name||"").localeCompare(i.name||"");return b.value?d:-d}),e}),_=r(()=>Math.max(1,Math.ceil(g.value.length/f))),k=r(()=>{const e=(Math.min(u.value,_.value)-1)*f;return g.value.slice(e,e+f)}),h=r(()=>p.value.trim().length>0),$=r(()=>k.value.length===0);function x(){m.push("/products/new")}function S(){m.push("/products/bulk-import")}function V(o){m.push(`/products/${o.id}`)}function I(o){m.push(`/products/${o.id}/edit`)}function P(o){confirm(`Delete product "${o.name}"?`)&&E(v.products,o.id)}function T(o){return!o.discountType||o.discountType==="none"||!o.discountValue?"â€”":o.discountType==="percent"?`${Number(o.discountValue).toFixed(0)}%`:`à§³${Number(o.discountValue).toFixed(2)}`}return(o,e)=>(a(),l("div",j,[t("div",z,[D(R,{title:"Products"},{actions:C(()=>[t("div",Q,[t("div",U,[e[4]||(e[4]=t("span",{class:"search-icon"},"ðŸ”",-1)),L(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),class:"form-control form-control-sm",placeholder:"Search products..."},null,512),[[M,p.value]])]),t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=s=>b.value=!b.value)}," Sort "+n(b.value?"Aâ†’Z":"Zâ†’A"),1),t("button",{class:"btn btn-sm btn-success",type:"button",onClick:S},"Bulk Import"),t("button",{class:"btn btn-sm btn-primary",type:"button",onClick:x},"New")])]),default:C(()=>[$.value?(a(),l("div",Z,[e[5]||(e[5]=t("div",{class:"empty-state-icon"},"ðŸ“¦",-1)),t("div",q,n(h.value?"No products found":"No products yet"),1),t("div",G,n(h.value?"Try adjusting your search to find what you're looking for.":"Get started by adding your first product or service to include in invoices."),1),h.value?F("",!0):(a(),l("div",H,[t("button",{class:"btn btn-primary",onClick:x}," Add Product ")]))])):(a(),l(w,{key:1},[t("div",J,[t("table",K,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Unit"),t("th",null,"Type"),t("th",null,"Price"),t("th",null,"Discount"),t("th",null,"Tax"),t("th",{class:"text-end"})])],-1)),t("tbody",null,[(a(!0),l(w,null,A(k.value,s=>{var i,d;return a(),l("tr",{key:s.id},[t("td",O,n(s.name),1),t("td",W,n(s.unit),1),t("td",X,n(s.type),1),t("td",null,n(Number(s.price||0).toFixed(2)),1),t("td",null,n(T(s)),1),t("td",null,[s.taxId?(a(),l("span",Y,n((i=N(v).taxes.find(c=>c.id===s.taxId))==null?void 0:i.name)+" ("+n((d=N(v).taxes.find(c=>c.id===s.taxId))==null?void 0:d.rate)+"%)",1)):(a(),l("span",tt,"None"))]),t("td",et,[t("div",st,[t("button",{class:"btn btn-outline-secondary",onClick:c=>V(s)},"View",8,ot),t("button",{class:"btn btn-outline-secondary",onClick:c=>I(s)},"Edit",8,nt),t("button",{class:"btn btn-outline-danger",onClick:c=>P(s)},"Delete",8,lt)])])])}),128))])])]),t("div",at,[t("div",it,"Page "+n(u.value)+" of "+n(_.value),1),t("div",ut,[t("button",{class:"btn btn-outline-secondary",disabled:u.value<=1,onClick:e[2]||(e[2]=s=>u.value--)},"Prev",8,ct),t("button",{class:"btn btn-outline-secondary",disabled:u.value>=_.value,onClick:e[3]||(e[3]=s=>u.value++)},"Next",8,dt)])])],64))]),_:1})])]))}};export{vt as default};
